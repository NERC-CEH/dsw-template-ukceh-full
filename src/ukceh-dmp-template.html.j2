{# ---- Summary details ---- #}

{% set projectNamePath = [uuids.projectInformationCUuid, uuids.projectTitleQUuid]|reply_path %}
{% set projectName = replies[projectNamePath]|reply_str_value %}
{% set projectNumberPath = [uuids.projectInformationCUuid, uuids.projectNumberQUuid]|reply_path %}
{% set projectNumber = replies[projectNumberPath]|reply_str_value %}
<h4>UKCEH Project</h4> 
<dl>
	<dt>Project name</dt> <dd>{{projectName}}</dd>	
	<dt>Grant reference</dt> <dd>{{projectNumber}}</dd>
</dl>

{# ---- Document details ---- #}

<h4>Document Details</h4>
<dl>
	<dt>Author</dt>
		<dd><span class="contact-name">{{ ctx.createdBy.firstName }} {{ ctx.createdBy.lastName }}</span> ({{ macros.formatEmail(ctx.createdBy.email) }})</dd>
	<dt>Creation Date</dt>	
		<dd>{{ ctx.createdAt|datetime_format("%B %d, %Y") }}</dd>
	<dt>Based on</dt>
        <dd>{{ ctx.package.name }}, {{ ctx.package.version }} (<span class="package-id"><span class="organization-id">{{ ctx.package.organizationId }}</span>:<span class="km-id">{{ ctx.package.kmId }}</span>:<span class="version">{{ ctx.package.version }}</span></span>)</dd>
	<dt>Description</dt> 
		<dd>
			This Data Management Plan (DMP) details the data management tasks and responsibilities in your science project.  
			It is a live document to be updated with content as required and reviewed during the lifetime of the project.
		</dd>
	<dt>Copyright of DMP</dt> 
		<dd>
			UK Centre for Ecology & Hydrology (UKCEH)
		</dd>	
	<dt>Scope of DMP</dt> 
		<dd>
			<em>This document, together with other referenced documents, defines the responsibilities and procedures to be adopted
				to ensure that environmental data and information produced as part of the project are reliable, fit for purpose and
				consistent with document objectives and deliverables. It summarises the system of internal management that governs the 
				decisions and instructions concerning project data management. This Data Management Plan covers staff responsibilities, 
				data collection policies, resourcing of data management, data quality, IPR considerations, policies on access to data and
				data dissemination during the project and arrangements for long-term management of data beyond the project.</em>
		</dd>
	<dt>Policies applicable to data and models in this research</dt> 
		<dd>
			<ul>
				<li><a href="https://www.legislation.gov.uk/ukpga/2018/12/pdfs/ukpga_20180012_en.pdf" target="_blank">Data Protection Act 2018</a>,</li>
				<li><a href="https://gdpr-info.eu/" target="_blank">General Data Protection Regulation (GDPR)</a></li>
			</ul>
		</dd>					
</dl>

{# ---- Timeline text ---- #}
<h4 class="newpage">Timeline</h4>
<dl>
	<dt>First 3-6 months of grant</dt>
		<dd>
			Some text about 3-6 months of grant for UKCEH
		</dd>
	<dt>Annually</dt>
		<dd>
			Some text about annually for UKCEH
		</dd>	
	<dt>6 - 9 months before grant end</dt>
		<dd>
			Some text about 6-9 months of grant for UKCEH
		</dd>
	<dt>End of grant</dt>
		<dd>
			Some text about end of grant for UKCEH
		</dd>
</dl>

{# ---- Section ---- #}
<div class="question">
	<h3 class = "newpager">1. Project Information</h3>
	{% set acronymPath = [uuids.projectInformationCUuid, uuids.projectAcronymOrShortNameQUuid]|reply_path %}
	{% set acronymReply = replies[acronymPath]|reply_str_value %}
	{% set funderPath = [uuids.projectInformationCUuid, uuids.fundingQLUuid]|reply_path %}
	{% set funderReply = replies[funderPath]|reply_items %}
	
	{# Abstract #}
	{% set projectAbstractPath = [uuids.projectInformationCUuid, uuids.projectAbstractQUuid]|reply_path %}
	{% set projectAbstractReply = replies[projectAbstractPath]|reply_str_value %}
	{% set projectProposalPath = [uuids.projectInformationCUuid, uuids.linkToAProjectProposalOrAnotherDescriptionOfTheMethodsUsedInTheProjectQUuid]|reply_path %}
	{% set projectProposalReply = replies[projectProposalPath]|reply_str_value %}

	<dl>
		<dt>Project Title</dt>
			<dd>
				{{projectName}}
			</dd>
		<dt>Project Acronym</dt>
			<dd>
				{{acronymReply}}
			</dd>	
		<dt>Project Abstract</dt> 
			<dd>
				{{projectAbstractReply}}
			</dd>
		<dt>Proposal</dt>
			<dd>
				{% if projectProposalReply %}
					More information on the proposal can be found <a href = {{projectProposalReply}}>here</a>.
				{% else %}	
					<span style="color: red;">{{missingInformationText}}</span></li>
				{% endif%}
			</dd>

	{% set projectStartDatePath = [uuids.projectInformationCUuid, uuids.dateTheProjectWillStartQUuid]|reply_path %}
	{% set projectStartDateReply = replies[projectStartDatePath]|reply_str_value %}
	{% set projectEndDatePath = [uuids.projectInformationCUuid, uuids.dateTheProjectWillEndQUuid]|reply_path %}
	{% set projectEndDateReply = replies[projectEndDatePath]|reply_str_value %}

		<dt>Project Start</dt>
			<dd>
				{{projectStartDateReply}}
			</dd>
		<dt>Project End</dt>
			<dd>
				{{projectEndDateReply}}
			</dd>

		<dt>Funders</dt>
		<dd>
			{% if funderReply|length > 0 %}
				<ul>
					{% for itemUuid in funderReply %}
						{% set funderNamePath = [funderPath, itemUuid, uuids.funderQUuid]|reply_path %}
							{% set funderNameReply = replies[funderNamePath] %}
						{% set fundingStatusPath = [funderPath, itemUuid, uuids.fundingStatusQUuid]|reply_path %}
						{% set fundingStatusReply = replies[fundingStatusPath]|reply_str_value %}
						{% set fundingStatus = 'Unknown' %}
						{% set grantPath = [funderPath, itemUuid, uuids.grantNumberQUuid]|reply_path %}
						{% set grantReply = replies[grantPath]|reply_str_value %}						

						{% if fundingStatusReply %}
							{% set fundingStatus = km.entities.answers[fundingStatusReply].label %}
							{% if fundingStatusReply == uuids.grantedAUuid %}
								<li>{{ funderNameReply.value.value.value }} (status: <span style="color: green;">{{fundingStatus}}</span>, grant number: {{grantReply}})</li>
							{% elif fundingStatusReply == uuids.rejectedAUuid %}
								<li>{{ funderNameReply.value.value.value }} (status: <span style="color: red;">{{fundingStatus}}</span>, grant number: {{grantReply}})</li>
							{% elif fundingStatusReply == uuids.appliedAUuid or fundingStatusReply == uuids.plannedAUuid %}
								<li>{{ funderNameReply.value.value.value }} (status: <span style="color: orange;">{{fundingStatus}}</span>, grant number: {{grantReply}})</li>
							{% endif %}
						{% endif %}
					{% endfor %}
				</ul>
			{% endif %}
		</dd>

	{# Contributors #}
	{% set contributorsPath = [uuids.projectInformationCUuid, uuids.contributorsQLUuid]|reply_path %}
	{% set contributorsReply = replies[contributorsPath]|reply_items %}

	{% if contributorsReply|length > 0 %} 
		{% set primaryContactList = [] %}
		{% set projectManagerList = [] %}
		{% set dataManagerList = [] %}
		{% set qualityManagerList = [] %}
		{% set researcherList = [] %}

		{% for itemUuid in contributorsReply %}
			{% set contributorNamePath = [contributorsPath, itemUuid, uuids.nameQUuid] | reply_path %}
			{% set contributorNameReply = replies[contributorNamePath] | reply_str_value %}
			{% set contributorAffiliationPath = [contributorsPath, itemUuid, uuids.affiliationQUuid] | reply_path %}
			{% set contributorAffiliationReply = replies[contributorAffiliationPath] | reply_str_value %}
			{% set contributorRolePath = [contributorsPath, itemUuid, uuids.roleQUuid] | reply_path %}
			{% set contributorRoleReply = replies[contributorRolePath] | reply_items %}

			{# For each reply, loop through the roles and append the name of contributor to role list #}
			{% for itemUuid in contributorRoleReply %}
				{% if itemUuid == uuids.primaryContactChoiceUuid %}
					{% set primaryContactList = primaryContactList.append(contributorNameReply+" ("+contributorAffiliationReply+")") %}
				{% elif itemUuid == uuids.projectManagerChoiceUuid %}
					{% set projectManagerList = projectManagerList.append(contributorNameReply+" ("+contributorAffiliationReply+")") %}
				{% elif itemUuid == uuids.dataManagerChoiceUuid %}	
					{% set dataManagerList = dataManagerList.append(contributorNameReply+" ("+contributorAffiliationReply+")") %}
				{% elif itemUuid == uuids.qualityManagerChoiceUuid %}
					{% set qualityManagerList = qualityManagerList.append(contributorNameReply+" ("+contributorAffiliationReply+")") %}
				{% elif itemUuid == uuids.researcherChoiceUuid %}
					{% set researcherList = researcherList.append(contributorNameReply+" ("+contributorAffiliationReply+")") %}
				{% endif %}
			{% endfor %}
		{% endfor %}

		{# Reorganise the role lists into a dictionary #}
		{% set roleDict = {
			"primaryContact" : {"headerText" : "Primary contact", 
							"contributorInfo" : primaryContactList},
			"projectManager" : {"headerText" : "Project manager", 
							"contributorInfo" : projectManagerList},
			"dataManager" : {"headerText" : "Data manager", 
							"contributorInfo" : dataManagerList},
			"qualityManager" : {"headerText" : "Quality manager", 
							"contributorInfo" : qualityManagerList},
			"researcher" : {"headerText" : "Researcher", 
							"contributorInfo" : researcherList},			
				} 
		%}

		{# key and .items() are required arguments when looping through a dictionary #}
		{# or python3/jinja will mistake it for a list #}
		{# otherwise the same method, can access values with dict.item or dict["item"]#}
		<dt>Contributors</dt>
			<dd>
				<ul style = "list-style-type:none;">
				{% for key, role in roleDict.items() %}
					<li><b>{{role.headerText}}:</b>
					{% if role.contributorInfo | length > 0 %}	
						{{role.contributorInfo | join(", ")}}</li>
					{% else %}
						<span style="color: red;">{{missingInformationText}}</span></li>
					{% endif %}
				{% endfor %} 	
				</ul>
			</dd>	
	{% endif %}

	{# Partners and subcontractors #}

	{% set otherPartnersPath = [uuids.projectInformationCUuid, uuids.otherPartnersQLUuid]|reply_path %}
	{% set otherPartnersReply = replies[otherPartnersPath]|reply_items %}

	{% if otherPartnersReply|length > 0 %} 
		<ul>
		{% for itemUuid in otherPartnersReply %}

			{% set otherPartnersNamePath = [otherPartnersPath, itemUuid, uuids.name_2QUuid]|reply_path %}
				{% set otherPartnersNameReply = replies[otherPartnersNamePath]|reply_str_value %}
			{% set otherPartnersAffiliationPath = [otherPartnersPath, itemUuid, uuids.affiliation_2QUuid]|reply_path %}
				{% set otherPartnersAffiliationReply = replies[otherPartnersAffiliationPath]|reply_str_value %}
			{% set otherPartnersRolePath = [otherPartnersPath, itemUuid, uuids.role_2QUuid]|reply_path %}
				{% set otherPartnersRoleReply = replies[otherPartnersRolePath]|reply_str_value %}

			{% if otherPartnersRole %}
				{% if otherPartnersRoleReply == uuids.externalCollaboratorAUuid %}
					<h4>External Collaborators:</h4> <li>{{otherPartnersNameReply}} ({{otherPartnersAffiliationReply}})</li>
				{% elif otherPartnersRoleReply == uuids.subcontractorAUuid %}
					<h4>Subcontractors:</h4><li>{{otherPartnersNameReply}} ({{otherPartnersAffiliationReply}})</li>
				{% endif %}
			{% endif %}
			
		{% endfor %}
		</ul>
	{% endif %}

	{# Expertise #}

	{% set expertisePath = [uuids.projectInformationCUuid, uuids.willYouRequireSpecialistExpertiseInAdditionToWhatIsUsuallyAvailableQUuid]|reply_path %}
	{% set expertise = replies[expertisePath]|reply_str_value %}
	
	{% if expertise == uuids.noWeHaveAllTheExpertiseWeNeedAUuid %}
		<p>We have all the expertise we need and do not require any additional specialist expertise.</p>
	{% elif expertise == uuids.yesWeWillBeTrainingExistingStaffStudentsAUuid %}
		<p>We will be training existing staff/students to gain the expertise we require.</p>
	{% elif expertise == uuids.yesWeWillBeRecruitingNewPeopleWithAdditionalExpertiseAUuid %}
		<p>We will be recruiting new people with additional expertise to get the specialist skills we need.</p>
	{% endif %}	

	</dl>
</div>

{# ---- Section ---- #}

<div class="question">
	<h3>2. Re-using data </h3>
	<h4>2.1 Existing datasets used in this project</h4>	
	{% set datasetUsedPath = [uuids.reUsingDataCUuid, uuids.willTheProjectUseAnyPreExistingOrThirdPartyDataQUuid]|reply_path %}
	{% set datasetUsedReply = replies[datasetUsedPath]|reply_str_value %}
	{% set datasetUsedListPath = [datasetUsedPath, uuids.yes_3AUuid, uuids.whatExistingDataResourcesWillYouUseQLUuid]|reply_path %}
	{% set datasetUsedListReply = replies[datasetUsedListPath]|reply_items %}

	{% if datasetUsedReply == uuids.no_3AUuid %}
		{% set datasetIntroText = "No third party or existing datasets will used for this project."%}
		{{datasetIntroText}}

	{% elif datasetUsedReply == uuids.yes_3AUuid%}
		{% set datasetIntroText = "Third party or existing datasets that will be used for this project:"%}
		{{datasetIntroText}}
	
		{% if datasetUsedListReply|length > 0 %}
			<ul>
			{% for itemUuid in datasetUsedListReply%}
				{% set datasetUsedTitlePath = [datasetUsedListPath, itemUuid, uuids.datasetOrDatabaseQUuid]|reply_path %}
				{% set datasetUsedTitleReply = replies[datasetUsedTitlePath] %}
				<p><strong>Dataset/Database used title:</strong>
				{% if datasetUsedTitleReply %}
					{{datasetUsedTitleReply.value.value.value}}
				{% else %}
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set datasetUsedDescriptionPath = [datasetUsedListPath, itemUuid, uuids.descriptionOfDataQUuid]|reply_path %}
				{% set datasetUsedDescriptionReply = replies[datasetUsedDescriptionPath]|reply_str_value %}

				<p><strong>Brief description:</strong>
				{% if datasetUsedDescriptionReply %}
					{{datasetUsedDescriptionReply}}
				{% else %}
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set datasetUsedDOIPath = [datasetUsedListPath, itemUuid, uuids.datasetIdentifierQUuid]|reply_path %}
				{% set datasetUsedDOIReply = replies[datasetUsedDOIPath]|reply_str_value %}

				<p><strong>DOI:</strong>
				{% if datasetUsedDOIReply %}
					{{datasetUsedDOIReply}}
				{% else %}
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set datasetUsedAvailabilityPath = [datasetUsedListPath, itemUuid, uuids.whereAreTheDataAvailableQUuid]|reply_path %}
				{% set datasetUsedAvailabilityReply = replies[datasetUsedAvailabilityPath]|reply_items %}
				
				<p><strong>Data are available from: </strong>
				{% set datasetUsedAvailabilityList = [] %}
				{% for itemUuid in datasetUsedAvailabilityReply %}
					{%set datasetUsedAvailabilityList = datasetUsedAvailabilityList.append(km.entities.choices[itemUuid].label)%}
				{% endfor %}

				{% if datasetUsedAvailabilityList| length > 0 %}
					{{datasetUsedAvailabilityList|join(", ")}}
				{% else %}
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set datasetUsedConditionsPath = [datasetUsedListPath, itemUuid, uuids.whatAreTheConditionsOfUseForTheseDataQUuid]|reply_path %}
				{% set datasetUsedConditionsReply = replies[datasetUsedConditionsPath]|reply_str_value %}
				{% if datasetUsedConditionsReply %}
					<p><strong>Conditions of use</strong> {{km.entities.answers[datasetUsedConditionsReply].label}}
					{% if datasetUsedConditionsReply == uuids.itIsAvailableUnderSomeRestrictionsWhichWeWillFollowInOurProjectAUuid %}
						{% set whatConditionsPath = [datasetUsedConditionsPath, uuids.itIsAvailableUnderSomeRestrictionsWhichWeWillFollowInOurProjectAUuid, uuids.whatConditionsQUuid]|reply_path %}
						{% set whatConditionsReply = replies[whatConditionsPath]|reply_str_value %}
						<p style="text-indent: 40px"><strong>What conditions</strong> {{whatConditionsReply}}</p>
					{% endif %}
				{% else %}
					<p><strong>Conditions of use:</strong> <span style="color: red;">{{missingInformationText}}</span>
				{% endif %}	

				{% set datasetUsedIPRPath = [datasetUsedListPath, itemUuid, uuids.whichOrganisationSHoldTheIntellectualPropertyRightsIprToThisDataset_1QUuid]|reply_path %}	
				{% set datasetUsedIPRReply = replies[datasetUsedIPRPath]|reply_str_value %}

				<p><strong>Data owner/IPR:</strong>
				{% if datasetUsedIPRReply%}
					{{datasetUsedIPRReply}}
				{% else %}	
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set datasetUsedFormatPath = [datasetUsedListPath, itemUuid, uuids.doYouKnowInWhatFormatTheDataAreAvailableQUuid]|reply_path %}
				{% set datasetUsedFormatReply = replies[datasetUsedFormatPath]|reply_str_value %}
				{% if datasetUsedFormatReply == uuids.yesAndICanDirectlyUseItAUuid %}
					{% set formatText = "We know the format of this data, it is suitable for our work and we can use it directly." %}
				{% elif datasetUsedFormatReply == uuids.yesButIWillNeedToConvertItToAnotherFormatBeforeUsingAUuid %}
					{% set formatText = "We know the format of this data, it is suitable for our work but we need to convert it to another format before using." %}	
				{% endif %}
				<p>{{formatText}}</p>

				{# Dataset version text generation section #}
				{% set datasetUsedVersionPath = [datasetUsedListPath, itemUuid, uuids.isTheDatasetOrDatabaseVersionedQUuid]|reply_path %}
				{% set datasetUsedVersionReply = replies[datasetUsedVersionPath]|reply_str_value %}

				{% set datasetUsedVersionList = [] %}
				{% if datasetUsedVersionReply == uuids.no_4AUuid %}
					{% set datasetVersionFinalText = "This dataset is not versioned. " %}
				{% elif datasetUsedVersionReply == uuids.yes_4AUuid %}
					{% set datasetVersionText = "This dataset is versioned. " %}

					{% set datasetUsedVersionUsedPath = [datasetUsedVersionPath, uuids.yes_4AUuid, uuids.whichVersionWillYouUseQUuid]|reply_path %}
					{% set datasetUsedVersionUsedReply = replies[datasetUsedVersionUsedPath]|reply_str_value %}
					{% set datasetUsedVersionUsedText = "We are using the following version: " + datasetUsedVersionUsedReply + ". " %}

					{% set datasetUsedVersionChangePath = [datasetUsedVersionPath, uuids.yes_4AUuid, uuids.willYouChangeVersionIfItUpdatesQUuid]|reply_path %}
					{% set datasetUsedVersionChangeReply = replies[datasetUsedVersionChangePath]|reply_str_value %}
					{% if datasetUsedVersionChangeReply == uuids.willStayWithTheOldVersionAUuid %}
						{% set datasetUsedVersionOldPath = [datasetUsedVersionChangePath, uuids.willStayWithTheOldVersionAUuid, uuids.howWillTheOldVersionBeAvailableQUuid]|reply_path %}
						{% set datasetUsedVersionOldReply = replies[datasetUsedVersionOldPath]|reply_str_value %}
						{% set datasetUsedVersionChangeText = "We will not change version if the dataset updates, because " +  km.entities.answers[datasetUsedVersionOldReply].label + ". " %}
					{% else %}
						{% set datasetUsedVersionChangeText = "We will change version if the dataset updates. " +  km.entities.answers[datasetUsedVersionChangeReply].label + ". " %}
					{% endif %}	
					{% set datasetVersionFinalText = datasetVersionText + datasetUsedVersionUsedText + datasetUsedVersionChangeText %}

				{% endif %}	
				<p>{{datasetVersionFinalText}}</p>

				{% set datasetUsedMakeAvailablePath = [datasetUsedListPath, itemUuid, uuids.howWillYouMakeSureTheSameDataWillBeAvailableForOthersToReproduceYourResultsQUuid]|reply_path %}
				{% set datasetUsedMakeAvailableReply = replies[datasetUsedMakeAvailablePath]|reply_str_value %}
				{% if datasetUsedMakeAvailableReply %}
					<p><strong>Availability of data version</strong> {{km.entities.answers[datasetUsedMakeAvailableReply].label}}</p>
				{% else %}
					<p><strong>Availability of data version</strong> <span style="color: red;">{{missingInformationText}}</span></p>
				{% endif %}	

				{% set datasetUsedApproximateSizePath = [datasetUsedListPath, itemUuid, uuids.whatIsTheApproximateSizeOfTheDataset_1QUuid]|reply_path %}
				{% set datasetUsedApproximateSizeReply = replies[datasetUsedApproximateSizePath]|reply_str_value %}
				{% if datasetUsedApproximateSizeReply %}
					<p><strong>Size/Quantity</strong> {{km.entities.answers[datasetUsedApproximateSizeReply].label}}</p>
				{% else %}
					<p><strong>Size/Quantity</strong> <span style="color: red;">{{missingInformationText}}</span></p>
				{% endif %}	
			<hr/>	
			{% endfor %}
			</ul>
		{% endif %}
		
		{# Harmonisation question #}
		{% set datasetHarmonisationPath = [datasetUsedPath, uuids.yes_3AUuid, uuids.doYouNeedToHarmoniseDifferentSourcesOfExistingDataQUuid]|reply_path %}
		{% set datasetHarmonisationReply = replies[datasetHarmonisationPath]|reply_str_value %}
		{% if datasetHarmonisationReply == uuids.no_5AUuid %}
			{% set harmonisationText = "We do not need to harmonise different sources of existing data." %}
			<p>{{harmonisationText}}</p>
		{% elif datasetHarmonisationReply == uuids.yes_5AUuid %}
			{% set datasetShareHarmonisationPath = [datasetHarmonisationPath, uuids.yes_5AUuid, uuids.willYouBeMakingYourHarmonisationResultsAvailableToOthersQUuid]|reply_path %}	
			{% set datasetShareHarmonisationReply = replies[datasetShareHarmonisationPath]|reply_str_value %}
			{% if datasetShareHarmonisationReply == uuids.no_6AUuid %}
				{% set harmonisationText = "We need to harmonise different sources of existing data, but we will not make these results available."  %}
			{% elif datasetShareHarmonisationReply == uuids.yes_6AUuid%}
				{% set harmonisationText = "We need to harmonise different sources of existing data, and we will make these results available"  %}
			{% endif %}	
			<p>{{harmonisationText}}</p>	
		{% endif %}

		{# Computer readable question #}
		{% set datasetComputerReadablePath = [datasetUsedPath, uuids.yes_3AUuid, uuids.willYouBeUsingDataThatNeedsToBeReMadeComputerReadableFirstQUuid]|reply_path %}
		{% set datasetComputerReadableReply = replies[datasetComputerReadablePath]|reply_str_value %}

		{% if datasetComputerReadableReply == uuids.no_7AUuid %}
			{% set computerReadableText = "We will not be using data that needs to be (re-)made computer readable first." %}
		<p>{{computerReadableText}}</p>
		{% elif datasetComputerReadableReply == uuids.yes_7AUuid %}	
			{% set datasetShareComputerReadablePath = [datasetComputerReadablePath, uuids.yes_7AUuid, uuids.willYouBeMakingTheDataAvailableInComputerReadableFormToOthersQUuid]|reply_path %}
			{% set datasetShareComputerReadableReply = replies[datasetShareComputerReadablePath]|reply_str_value %}
			{% if datasetShareComputerReadableReply == uuids.no_8AUuid %}
				{% set computerReadableText = "We will be using data that needs to be (re-)made computer readable first, but we will not make it available to others." %}
			{% elif datasetShareComputerReadableReply == uuids.yes_8AUuid %}	
				{% set datasetPermissionComputerReadablePath = [datasetShareComputerReadablePath, uuids.yes_8AUuid, uuids.doYouHaveTheLicencePermissionToDoThisQUuid]|reply_path %}
				{% set datasetPermissionComputerReadableReply = replies[datasetPermissionComputerReadablePath]|reply_str_value %}
				{% if datasetPermissionComputerReadableReply == uuids.no_9AUuid %}
					{% set computerReadableText = "We will be using data that needs to be (re-)made computer readable first, we will make it available to others, but we do not have the licensing permission to do this." %}
				{% elif datasetPermissionComputerReadableReply == uuids.yes_9AUuid %}	
					{% set computerReadableText = "We will be using data that needs to be (re-)made computer readable first, we will make it available to others and we have the licensing permission to do this." %}
				{% endif %}
			{% endif %}	
		<p>{{computerReadableText}}</p>	
		{% endif %}
	{% endif %}
</div>	

<div>
	<h4>2.2 Existing models used in this project</h4>	
	{# Models section #}
	{% set modelsUsedPath = [uuids.reUsingDataCUuid, uuids.willTheProjectUseAnyPreExistingOrThirdPartyModelsQUuid]|reply_path %}
	{% set modelsUsedReply = replies[modelsUsedPath]|reply_str_value %}
	{% set modelsUsedListPath = [modelsUsedPath, uuids.yes_10AUuid, uuids.whatExistingModelsWillYouUseQLUuid]|reply_path %}
	{% set modelsUsedListReply = replies[modelsUsedListPath]|reply_items %}

	{% if modelsUsedReply == uuids.no_10AUuid %}
		{% set modelsIntroText = "No third party or existing models will used for this project."%}
		<p>{{datasetIntroText}}</p>
	{% elif modelsUsedReply == uuids.yes_10AUuid %}
		{% set modelsLicensingCostPath = [modelsUsedPath, uuids.yes_10AUuid, uuids.areYouAwareOfAnyCostOrLicensingImplicationsForTheExistingModelsYouPlanToUseQUuid]|reply_path %}
		{% set modelsLicensingCostReply = replies [modelsLicensingCostPath] |reply_str_value %}	
		{% if modelsLicensingCostReply == uuids.no_3_2AUuid %}
			{% set modelCostText = "We have not planned or budgeted for any costs of models that are brought into the project, such as the purchasing of a license or storing large volumes of data." %}
		{% elif modelsLicensingCostReply == uuids.yes_3_2AUuid %}
			{% set modelCostText = "We have planned and budgeted for any costs of models that are brought into the project, such as the purchasing of a license or storing large volumes of data." %}
		{% endif %}

		{% set modelsIntroText = "Third party or existing models will be used for this project."%}
		<p>{{modelsIntroText}} {{modelCostText}}</p>

		<p>The following third party or existing models will be used for this project:</p>
			{% if modelsUsedListReply|length > 0 %}
			<ul>
			{% for itemUuid in modelsUsedListReply%}
				{% set modelUsedTitlePath = [modelsUsedListPath, itemUuid, uuids.modelQUuid]|reply_path %}
				{% set modelUsedTitleReply = replies[modelUsedTitlePath]|reply_str_value %}
				{% if modelUsedTitleReply %}
					<p><strong>Model used title - </strong>{{modelUsedTitleReply}}</p>
				{% endif %}

				{% set modelUsedDescriptionPath = [modelsUsedListPath, itemUuid, uuids.descriptionOfModelQUuid]|reply_path %}
				{% set modelUsedDescriptionReply = replies[modelUsedDescriptionPath]|reply_str_value %}
				<p><strong>Brief description</strong> {{modelUsedDescriptionReply}}</p>

				{% set modelUsedAvailabilityPath = [modelsUsedListPath, itemUuid, uuids.whereIsThisModelAvailableQUuid]|reply_path %}
				{% set modelUsedAvailabilityReply = replies[modelUsedAvailabilityPath]|reply_items %}
				
				<p><strong>Data are available from: </strong>
				{% set modelUsedAvailabilityList = [] %}
				{% for itemUuid in modelUsedAvailabilityReply %}
					{%set modelUsedAvailabilityList = modelUsedAvailabilityList.append(km.entities.choices[itemUuid].label)%}
				{% endfor %}

				{% if modelUsedAvailabilityList| length > 0 %}
					{{modelUsedAvailabilityList|join(", ")}}
				{% else %}
					<span style="color: red;">{{missingInformationText}}</span>
				{% endif %}
				</p>

				{% set modelUsedConditionsPath = [modelsUsedListPath, itemUuid, uuids.whatAreTheConditionsOfUseForThisModelQUuid]|reply_path %}
				{% set modelUsedConditionsReply = replies[modelUsedConditionsPath]|reply_str_value %}
				{% if modelUsedConditionsReply %}
					<p><strong>Conditions of use</strong> {{km.entities.answers[modelUsedConditionsReply].label}}
				{% endif %}	

				{% set modelUsedFormatPath = [modelsUsedListPath, itemUuid, uuids.doYouKnowInWhatFormatOrLanguageTheModelIsAvailableQUuid]|reply_path %}
				{% set modelUsedFormatReply = replies[modelUsedFormatPath]|reply_str_value %}
				{% if modelUsedFormatReply == uuids.iCanDirectlyUseItAUuid %}
					{% set formatText = "We know the format of this data, it is suitable for our work and we can use it directly." %}
				{% elif modelUsedFormatReply == uuids.iNeedToConvertItBeforeUsingAUuid %}
					{% set formatText = "We know the format of this data, it is suitable for our work but we need to convert it to another format before using." %}	
				{% endif %}
				<p>{{formatText}}</p>

				{# Dataset version text generation section #}
				{% set modelUsedVersionPath = [modelsUsedListPath, itemUuid, uuids.isTheModelVersionedQUuid]|reply_path %}
				{% set modelUsedVersionReply = replies[modelUsedVersionPath]|reply_str_value %}

				{% set modelUsedVersionList = [] %}
				{% if modelUsedVersionReply == uuids.no_11AUuid %}
					{% set modelVersionFinalText = "This dataset is not versioned. " %}
				{% elif modelUsedVersionReply == uuids.yes_11AUuid %}
					{% set modelVersionText = "This dataset is versioned. " %}

					{% set modelUsedVersionUsedPath = [modelUsedVersionPath, uuids.yes_11AUuid, uuids.whichVersionWillYouUse_2QUuid]|reply_path %}
					{% set modelUsedVersionUsedReply = replies[modelUsedVersionUsedPath]|reply_str_value %}
					{% set modelUsedVersionUsedText = "We are using the following version: " + modelUsedVersionUsedReply + ". " %}

					{% set modelUsedVersionChangePath = [modelUsedVersionPath, uuids.yes_11AUuid, uuids.willYouChangeVersionIfItUpdates_2QUuid]|reply_path %}
					{% set modelUsedVersionChangeReply = replies[modelUsedVersionChangePath]|reply_str_value %}
					{% if modelUsedVersionChangeReply == uuids.willStayWithTheOldVersion_2AUuid %}
						{% set modelUsedVersionOldPath = [modelUsedVersionChangePath, uuids.willStayWithTheOldVersion_2AUuid, uuids.howWillTheOldVersionBeAvailable_2QUuid]|reply_path %}
						{% set modelUsedVersionOldReply = replies[modelUsedVersionOldPath]|reply_str_value %}
						{% set modelUsedVersionChangeText = "We will not change version if the dataset updates, because " +  km.entities.answers[modelUsedVersionOldReply].label + ". " %}
					{% else %}
						{% set modelUsedVersionChangeText = "We will change version if the dataset updates. " +  km.entities.answers[modelUsedVersionOldReply].label + ". " %}
					{% endif %}	
					{% set modelVersionFinalText = modelVersionText + modelUsedVersionUsedText + modelUsedVersionChangeText %}

				{% endif %}	
				<p>{{modelVersionFinalText}}</p>

				{# Do you expect to make changes? #}
				{% set modelUsedChangesPath = [modelsUsedListPath, itemUuid, uuids.doYouExpectToMakeChangesToTheSuppliedModelQUuid]|reply_path %}
				{% set modelUsedChangesReply = replies[modelUsedChangesPath]|reply_str_value %}

				{% if modelUsedChangesReply == uuids.no_12AUuid %}
					{% set modelChangesText = "We do not expect to make changes to the model." %}
					<p>{{modelChangesText}}</p>
				{% elif modelUsedChangesReply == uuids.yes_12AUuid %}
					{% set modelUsedShareChangesPath = [modelUsedChangesPath, uuids.yes_12AUuid, uuids.willYouBeMakingYourRevisedModelAvailableToOthersQUuid]|reply_path %}	
					{% set modelUsedShareChangesReply = replies[modelUsedShareChangesPath]|reply_str_value %}

					{% if modelUsedShareChangesReply == uuids.no_13AUuid %}
						{% set modelChangesText = "We expect to make changes to the model, but we will not make these available to others." %}
					{% elif modelUsedShareChangesReply == uuids.yes_13AUuid %}	
						{% set modelChangesText = "We expect to make changes to the model and we will make these available to others." %}
					{% endif %}	
					<p>{{modelChangesText}}</p>
				{% endif %}	

				{# How will you make sure the model will be available to others? #}
				{% set modelUsedAvailabilityPath = [modelsUsedListPath, itemUuid, uuids.howWillYouMakeSureTheSameModelWillBeAvailableForOthersToReproduceYourResultsQUuid]|reply_path %}
				{% set modelUsedAvailabilityReply = replies[modelUsedAvailabilityPath]|reply_str_value %}

				{% if modelUsedAvailabilityReply == uuids.theProviderKeepsOldVersionsAround_2AUuid %}
					{% set modelUsedAvailabilityText = "This version of the model will be available from the provider, allowing others to reproduce our results." %}
				{% elif modelUsedAvailabilityReply == uuids.iWillKeepACopyAndMakeItAvailableWithMyResults_2AUuid %}
					{% set modelUsedAvailabilityText = "We will make a copy of this version of the model to make it available along with our results, allowing others to reproduce our results." %}
				{% elif modelUsedAvailabilityReply == uuids.itWillBeAvailableBothFromTheProviderAndTogetherWithMyData_2AUuid %}
					{% set modelUsedAvailabilityText = "This version of the model will be available from the provider and we will make a copy of this version to make it available along with our results, allowing others to reproduce our results." %}
				{% endif %}
				<p>{{modelUsedAvailabilityText}}</p>

			<hr/>	
			{% endfor %}
			</ul>
		{% endif %}
	{% endif %}	
</div>

{# ---- Section ---- #}

<div class="question">
	<h3>3. Creating and collecting data</h3>

		{# If statement to determine whether project is data or non-data #}
		{% set createOrCollectEnvironmentalDataPath = [uuids.creatingAndCollectingDataCUuid, uuids.willYourProjectCollectOrCreateResearchDataOrDataRelatedToolsQUuid]|reply_path %}
		{% set createOrCollectEnvironmentalDataReply = replies[createOrCollectEnvironmentalDataPath]|reply_str_value %}

		{% if createOrCollectEnvironmentalDataReply == uuids.yes_14AUuid %}
		<p>This project will create or collect environmental research data.</p>

			{% set observationalOrExperimentalPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouBeAcquiringObservationalOrExperimentalDataQUuid]|reply_path %}
			{% set observationalOrExperimentalReply = replies[observationalOrExperimentalPath]|reply_str_value %}

			{% if observationalOrExperimentalReply == uuids.yes_15AUuid %}
			<p> We will acquire observational or experimental data in this project. 

				{% set surveyDesignPath =  [observationalOrExperimentalPath, uuids.yes_15AUuid, uuids.willYouBeImplementingAPreDeterminedOrStandardSurveyExperimentalDesignQUuid]|reply_path %}
				{% set surveyDesignReply = replies[surveyDesignPath]|reply_str_value %}

				{% if surveyDesignReply == uuids.noWeWillUseADesignCreatedSpecificallyForThisProjectAUuid %}
					We will not implement a pre-determined survey/experimental design.
					We will use a design created specifically for this project.
				{% elif surveyDesignReply == uuids.yes_16AUuid %}
					{% set widelyUsedDesignPath = [surveyDesignPath, uuids.yes_16AUuid, uuids.isThisDesignWidelyUsedInYourFieldOfResearchQUuid]|reply_path %}
					{% set widelyUsedDesignReply = replies[widelyUsedDesignPath]|reply_str_value %}
					{% if widelyUsedDesignReply == uuids.yesItIsAStandardDesignAUuid %}
						We will implement a pre-determined survey/experimental design.
						This design is standard in our field of research.
					{% elif widelyUsedDesignReply == uuids.thisIsARelativelyNewButReliableDesignAUuid %}
						We will implement a pre-determined survey/experimental design.
						This design is new to our field of research, but it is reliable.
					{% endif %}
				{% endif %}

				{% set whoWillDoMeasurementsPath = [observationalOrExperimentalPath, uuids.yes_15AUuid, uuids.whoWillDoTheMeasurementsQUuid]|reply_path %}
				{% set whoWillDoMeasurementsReply = replies[whoWillDoMeasurementsPath]|reply_items %}

				{% if whoWillDoMeasurementsReply %}
					<p>Observational or experimental data will be collected by:</p>
					{% for itemUuid in whoWillDoMeasurementsReply %}
						<li>{{ km.entities.choices[itemUuid].label }}</li>
					{% endfor %}
				{% else %}
					<p>We haven't decided who will do the measurements.</p>
				{% endif %}

				{% set usingInstrumentsPath = [observationalOrExperimentalPath, uuids.yes_15AUuid, uuids.willYouBeUsingInstrumentsToCollectDataQUuid]|reply_path %}
				{% set usingInstrumentsReply = replies[usingInstrumentsPath]|reply_str_value %}

				{% if usingInstrumentsReply == uuids.no_16AUuid %}
					<p>We will not be using using any instruments or facilities to collect data.
				{% elif usingInstrumentsReply == uuids.yes_17AUuid %}
					{% set whatInstrumentListPath = [usingInstrumentsPath, uuids.yes_17AUuid, uuids.whatInstrumentsOrFacilitiesWillBeUsedToCollectDataQLUuid]|reply_path %}
					{% set whatInstrumentListReply = replies[whatInstrumentListPath]|reply_items %}
					<p> We will be using the following instruments or facilities:
					{% if whatInstrumentListReply|length > 0 %}
						<ul>
						{% for itemUuid in whatInstrumentListReply %}
							{% set whatInstrumentPath = [whatInstrumentListPath, itemUuid, uuids.instrumentFacilityNameQUuid]|reply_path %}
							{% set whatInstrumentReply = replies[whatInstrumentPath]|reply_str_value %}
							<li> {{whatInstrumentReply}}</li>
						{% endfor %}
						</ul>
					{% endif %}	
				{% endif %}
				
				{# Question on equipment used tbc #}

				{# Section on transport of raw data and processing #}
				{% set willYouNeedTransportPath = [observationalOrExperimentalPath, uuids.yes_15AUuid, uuids.willYouNeedToTransferTransportRawDataFromThePlaceItWasCollectedToWhereItWillBeProcessedQUuid]|reply_path %}
				{% set willYouNeedTransportReply = replies[willYouNeedTransportPath]|reply_str_value %}

				{% if willYouNeedTransportReply == uuids.noTransportIsNeededAnalysisIsDoneWhereItIsObtainedAUuid %}
					<p>
						We will not need to transport/transfer raw data from the place it was collected.
						Analysis will be done where it is obtained.
					</p>
				{% elif willYouNeedTransportReply == uuids.yes_18AUuid%}
					<p>
						We will need to transport/transfer raw data from the place it was collected.
						{% set howWillYouTransportPath = [willYouNeedTransportPath, uuids.yes_18AUuid, uuids.howWillTheRawDataBeTransportedQUuid]|reply_path %}
						{% set howWillYouTransportReply = replies[howWillYouTransportPath]|reply_str_value %}

						{% if howWillYouTransportReply == uuids.onPhysicalMediaAUuid %}
							It will be transported on physical media.
							{% set isSufficientStoragePath = [howWillYouTransportPath, uuids.onPhysicalMediaAUuid, uuids.isSufficientWritingAndReadingStorageCapacityAvailableForThePhysicalMediaQUuid]|reply_path %}
							{% set isSufficientStorageReply = replies[isSufficientStoragePath]|reply_str_value %}

							{% if isSufficientStorageReply == uuids.no_17AUuid %}
								We have not checked if sufficient writing and reading storage capacity is available.
							{% elif isSufficientStorageReply == uuids.yes_19AUuid %}
								We have made sure sufficient writing and reading storage capacity is available to do so.	
							{% endif %}
						{% elif howWillYouTransportReply == uuids.viaAPublicNetworkAUuid %}	
							It will be transferred via a public network.
							{% set isSufficientNetworkCapacityPath = [howWillYouTransportPath, uuids.viaAPublicNetworkAUuid, uuids.isSufficientNetworkCapacityAvailableToTransferTheDataQUuid]|reply_path %}
							{% set isSufficientNetworkCapacityReply = replies[isSufficientNetworkCapacityPath]|reply_str_value %}

							{% if isSufficientNetworkCapacityReply == uuids.no_18AUuid %}
								We have not checked if sufficient network capacity is available to transfer data.
							{% elif isSufficientNetworkCapacityReply == uuids.yes_20AUuid %}
								We have made sure sufficient network capacity is available to do so.	
							{% endif %}

						{% elif howWillYouTransportReply == uuids.viaAPrivateConnectionAUuid %}
							It will be transferred via a private connection.
						{% endif %}

						{# Integrity question#}
						{% set dataIntegrityGuaranteedPath = [willYouNeedTransportPath, uuids.yes_18AUuid, uuids.isDataIntegrityGuaranteedDuringThisStageQUuid]|reply_path %}
						{% set dataIntegrityGuaranteedReply = replies[dataIntegrityGuaranteedPath]|reply_str_value %}
						
						{% if dataIntegrityGuaranteedReply == uuids.no_19AUuid %}
							We have no means of identifying whether the raw data has been transferred error free, been tampered with and/or lost, and therefore cannot guarantee data integrity.
						{% elif dataIntegrityGuaranteedReply == uuids.yes_21AUuid %}
							To guarantee data integrity, we have means of identifying whether the raw data has been transferred error free, been tampered with and/or lost.
						{% endif %}

						{# Security question #}
						{% set dataSecurityPath = [willYouNeedTransportPath, uuids.yes_18AUuid, uuids.haveYouConsideredAnySecurityIssuesAtThisStageQUuid]|reply_path %}
						{% set dataSecurityReply = replies[dataSecurityPath]|reply_str_value %}
						
						{% if dataSecurityReply == uuids.no_20AUuid %}
							We have not considered security, and therefore cannot guarantee data will be protected from theft, leaks or irretrievable data loss.
						{% elif dataSecurityReply == uuids.yesWeHaveConsideredAndWontNeedAnySpecificPlansAUuid %}
							We have considered security and we will not need any specific plans.
						{% elif dataSecurityReply == uuids.yesWeHaveConsideredThisAndHaveAPlanInPlaceAUuid %}	
							We have considered security and we have a plan in place.
						{% endif %}						
					</p>
				{% endif%}

				{# Quality control section #}
				{% set qualityControlPath = [observationalOrExperimentalPath, uuids.yes_15AUuid, uuids.willYouBeUsingQualityControlProcessesQUuid]|reply_path %}
				{% set qualityControlReply = replies[qualityControlPath]|reply_str_value %}

				{% if qualityControlReply == uuids.no_21AUuid %}
				<p>
					We will not be using a quality control process.
				</p>	
				{% elif qualityControlReply == uuids.yes_22AUuid %}
				<p>
					We will be using a quality control process:
					<ul>
						{% set calibratingMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouCalibratingMeasurementsQUuid]|reply_path %}
						{% set calibratingMeasurementsReply = replies[calibratingMeasurementsPath]|reply_str_value %}

						{% if calibratingMeasurementsReply == uuids.no_22AUuid %}
							<li>Not calibrating measurements</li>
						{% elif calibratingMeasurementsReply == uuids.yes_23AUuid %}
							<li>Calibrating measurements</li>
						{% endif %}

						{% set repeatSamplesMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouRunningRepeatSamplesOrAreYouRepeatingMeasurementsQUuid]|reply_path %}
						{% set repeatSamplesMeasurementsReply = replies[repeatSamplesMeasurementsPath]|reply_str_value %}
						
						{% if repeatSamplesMeasurementsReply == uuids.no_23AUuid %}
							<li>Not running repeat samples or repeating measurements</li>
						{% elif repeatSamplesMeasurementsReply == uuids.yes_24AUuid %}
							<li>Running repeat samples or repeating measurements</li>
						{% endif %}

						{% set standardDataCaptureMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouFollowingStandardOrDescribedDataCaptureMethodsCommonlyUsedInYourFieldQUuid]|reply_path %}
						{% set standardDataCaptureMeasurementsReply = replies[standardDataCaptureMeasurementsPath]|reply_str_value %}
						
						{% if standardDataCaptureMeasurementsReply == uuids.no_24AUuid %}
							<li>Not using standard or described data capture methods commonly used in our field</li>
						{% elif standardDataCaptureMeasurementsReply == uuids.yes_25AUuid %}
							<li>Using standard or described data capture methods commonly used in our field</li>
						{% endif %}

						{% set validatingMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.willDataBePeerReviewedDuringOrUponCollectionQUuid]|reply_path %}
						{% set validatingMeasurementsReply = replies[validatingMeasurementsPath]|reply_str_value %}
						
						{% if validatingMeasurementsReply == uuids.no_26AUuid %}
							<li>No process to validate or check during or upon collection before further analysis</li>
						{% elif validatingMeasurementsReply == uuids.yes_27AUuid %}
							<li>Processes to validate or check during or upon collection before further analysis</li>
						{% endif %}

						{% set automatedDataEntryMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouDoingDataEntryValidationQUuid]|reply_path %}
						{% set automatedDataEntryMeasurementsReply = replies[automatedDataEntryMeasurementsPath]|reply_str_value %}
						
						{% if automatedDataEntryMeasurementsReply == uuids.no_25AUuid %}
							<li>No process to automatically test data for correctness when recording/entering into a database</li>
						{% elif automatedDataEntryMeasurementsReply == uuids.yes_26AUuid %}
							<li>Processes to automatically test data for correctness when recording/entering into a database</li>
						{% endif %}

						{% set controlledVocabulariesMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouUsingControlledVocabulariesQUuid]|reply_path %}
						{% set controlledVocabulariesMeasurementsReply = replies[controlledVocabulariesMeasurementsPath]|reply_str_value %}
						
						{% if controlledVocabulariesMeasurementsReply == uuids.no_27AUuid %}
							<li>Not using controlled vocabularies</li>
						{% elif controlledVocabulariesMeasurementsReply == uuids.yes_28AUuid %}
							<li>Using controlled vocabularies</li>
						{% endif %}

						{% set anyOtherMeasurementsPath = [qualityControlPath, uuids.yes_22AUuid, uuids.areYouUsingAnyOtherQualityProcessesQUuid]|reply_path %}
						{% set anyOtherMeasurementsReply = replies[anyOtherMeasurementsPath]|reply_str_value %}
						
						{% if anyOtherMeasurementsReply == uuids.yes_29AUuid %}
							{% set whatOtherMeasurementsPath = [anyOtherMeasurementsPath, uuids.yes_29AUuid, uuids.whatOtherQualityProcessesDoYouUseQUuid]|reply_path %}
							{% set whatOtherMeasurementsReply = replies[whatOtherMeasurementsPath]|reply_str_value %}
							<li>{{whatOtherMeasurementsReply}}</li>
						{% endif %}	

					</ul>
				</p>
				{% endif %}


			</p>		
			{% endif %}

			{# Other means such as modelling #}
			{% set otherMeansModellingPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouBeGeneratingNewDatasetsByOtherMeansSuchAsModellingQUuid]|reply_path %}
			{% set otherMeansModellingReply = replies[otherMeansModellingPath]|reply_str_value %}
		
			{% if otherMeansModellingReply == uuids.yes_30AUuid %}
				{% set whichModelsForNewDatasetsPath = [otherMeansModellingPath, uuids.yes_30AUuid, uuids.whichModelSWillBeUsedToGenerateNewDatasetsQUuid]|reply_path %}
				{% set whichModelsForNewDatasetsReply = replies[whichModelsForNewDatasetsPath]|reply_items %}
				
				{% if whichModelsForNewDatasetsReply %}
					<p>We will use the following models to generate new datasets:</p>
					{% for itemUuid in whichModelsForNewDatasetsReply %}
						<li>{{ km.entities.choices[itemUuid].label }}</li>
					{% endfor %}
				{% endif %}

			{% endif %}

			{# Software packages #}
			{% set otherMeansSoftwarePath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouBeGeneratingASoftwarePackageAsPartOfYourProjectQUuid]|reply_path %}
			{% set otherMeansSoftwareReply = replies[otherMeansSoftwarePath]|reply_str_value %}

			{% if otherMeansSoftwareReply == uuids.yes_32AUuid %}
				<p>We will produce a software package as part of this project.</p>
			{% endif %}

			{# Information products #}
			{% set otherMeansInformationProductPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouBeGeneratingADataInformationProductAsPartOfYourProjectQUuid]|reply_path %}
			{% set otherMeansInformationProductReply = replies[otherMeansInformationProductPath]|reply_str_value %}

			{% if otherMeansInformationProductReply == uuids.yes_33AUuid %}
				<p>We will produce an information product as part of this project.</p>
			{% endif %}

			{# Data by other methods #}
			{% set dataByOtherMethodsPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouBeGeneratingDataByOtherMethodsQUuid]|reply_path %}
			{% set dataByOtherMethodsReply = replies[dataByOtherMethodsPath]|reply_str_value %}

			{% if dataByOtherMethodsReply == uuids.yes_34AUuid %}
				{% set typeOfDataCollectingPath = [dataByOtherMethodsPath, uuids.yes_34AUuid, uuids.whatTypeOfDataWillYouBeCollectingQUuid]|reply_path %}
				{% set typeOfDataCollectingReply = replies[typeOfDataCollectingPath]|reply_str_value %}
				
				{% if typeOfDataCollectingReply == uuids.questionnairesSurveysAUuid %}
					{% set typeOfDataCollecting = 'We will collect questionnaire and survey data as part of this project.' %}
					{{typeOfDataCollecting}}	
				{% elif typeOfDataCollectingReply == uuids.photographsImagesAUuid %}
					{% set typeOfDataCollecting = 'We will collect photos/images as part of this project.' %}
					{{typeOfDataCollecting}}
				{% elif typeOfDataCollectingReply == uuids.recordCardsAUuid %}
					{% set typeOfDataCollecting = 'We will collect record cards as part of this project.' %}
					{{typeOfDataCollecting}}
				{% elif typeOfDataCollectingReply == uuids.other_3AUuid %}
					{% set typeOfDataCollecting = 'We will collect' %}

					{% set typeOfDataCollectingOtherPath = [typeOfDataCollectingPath, uuids.other_3AUuid, uuids.pleaseSpecifyQUuid]|reply_path %}
					{% set typeOfDataCollectingOtherReply = replies[typeOfDataCollectingOtherReplyPath]|reply_str_value %}
						
						{% if typeOfDataCollectingOtherReply %}
							{% set typeOfDataCollectingOther = km.entities.choices[typeOfDataCollectingOtherReply].label %}
						{% endif %}
					{{typeOfDataCollecting}}{{typeofDataCollectingOther}}
				{% endif %}
			{% endif %}

			{# Data formats #}
			{% set dataFormatsPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.whatDataFormatsWillYouBeUsingQLUuid]|reply_path %}
			{% set dataFormatsReply = replies[dataFormatsPath]|reply_items %}

			{% if dataFormatsReply|length > 0 %}
			<p>The data produced by this project will be in the following formats:</p>	
				{% for itemUuid in dataFormatsReply %}
					{% set dataFormatPath = [dataFormatsPath, itemUuid, uuids.dataFormatQUuid]|reply_path %}
					{% set dataFormatReply = replies[dataFormatPath] %}
					{% set dataFormatArchivingPath = [dataFormatsPath, itemUuid, uuids.doesThisDataFormatEnableSharingAndLongTermArchivingQUuid]|reply_path %}
					{% set dataFormatArchivingReply = replies[dataFormatArchivingPath]|reply_str_value %}
					
					{% if dataFormatReply %}
						{% if dataFormatArchivingReply == uuids.no_35AUuid %}
							{% set formatConversionPath = [dataFormatArchivingPath, uuids.no_35AUuid, uuids.willYouConvertToAFileFormatMoreSuitableForArchivingLaterQUuid]|reply_path %}
							{% set formatConversionReply = replies[formatConversionPath]|reply_str_value %}

							{% set dataFormatArchiving = 'this format does not enable sharing and long-term archiving' %}
							
							{% if formatConversionReply %}
								{% if formatConversionReply == uuids.no_36AUuid %}
									{% set formatConversion = 'and we have not made any plans to convert to another more suitable one, which restrict the availablity to users' %}
								{% elif formatConversionReply == uuids.yes_37AUuid %}
									{% set formatConversion = 'but we plan to convert to a more suitable format before making it available' %}
								{% endif %}
								<li>{{ dataFormatReply.value.value.value }} ({{ dataFormatArchiving }} {{ formatConversion }})</li>
							{% else %}
								<li>{{ dataFormatReply.value.value.value }} ({{ dataFormatArchiving }})</li>
							{% endif %}

						{% elif dataFormatArchivingReply == uuids.yes_38AUuid %}
							{% set dataFormatArchiving = 'this format is suitable for long-term archiving' %}
							<li>{{ dataFormatReply.value.value.value }} ({{ dataFormatArchiving }})</li>
						{% endif %}
					{% endif %}

				{% endfor %}
			{% endif %}

			{# Data volume #}
			{% set dataVolumePath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.whatVolumeOfDataYouWillBeWorkingWithQUuid]|reply_path %}
			{% set dataVolumeReply = replies[dataVolumePath]|reply_str_value %}

			{% if dataVolumeReply == uuids.totalDataVolumeIs1TbAUuid %}
				<p>The total volume of this project will collect is >1Tb.</p>

				{% set storageLimitationsOfDataVolumePath = [dataVolumePath, uuids.haveYouConsideredTheStorageLimitationsOfWorkingWithThisVolumeOfDataQUuid]|reply_path %}
				{% set storageLimitationsOfDataVolumeReply = replies[storageLimitationsOfDataVolumePath]|reply_str_value %}
				
				{% if storageLimitationsOfDataVolumeReply == uuids.yes_39AUuid %}
					{% set arrangementsToAvoidStorageProblemsPath = [storageLimitationsOfDataVolumePath, yes_39AUuid, uuids.specifyAnyArrangementsYouHaveMadeToAvoidProblemsQUuid]|reply_path %}
					{% set arrangementsToAvoidStorageProblemsReply = replies[arrangementsToAvoidStorageProblems]|reply_str_value %}

					{{ arrangementsToAvoidStorageProblemsReply }}
				{% elif storageLimitationsOfDataVolumeReply == uuids.no_38AUuid %}
					<p>We haven't yet considered the storage limitations on working with this volume of data.</p>
				{% endif %}

			{% elif dataVolumeReply == uuids.totalDataVolumeIsSmallEnoughThatItWontBeAProblemAUuid %}
				<p>The total volume of data this project will collect is small enough (<1Tb) that it won't be a problem or pose storage constraints.</p> 
			{% endif %}

			{# Physical collections #}
			{% set physicalSamplesPath = [uuids.creatingAndCollectingDataCUuid, uuids.yes_14AUuid, uuids.willYouBeStoringPhysicalSamplesQUuid]|reply_path %}
			{% set physicalSamplesReply = replies[physicalSamplesPath]|reply_str_value %}

			{% if physicalSamplesReply == uuids.yes_40AUuid %}
				{% set physicalSamplesWherePath = [physicalSamplesPath, uuids.yes_40AUuid, uuids.whereWillTheSamplesBeStoredQLUuid]|reply_path %}
				{% set physicalSamplesWhereReply = replies[physicalSamplesWherePath]|reply_items %}

				{% if physicalSamplesWhereReply|length > 0 %}
					{% for itemUuid in physicalSamplesWhereReply %}
						{% set storagePlacePath = [physicalSamplesWherePath, itemUuid, uuids.placeOfStorageQUuid]|reply_path %}
      						{% set storagePlaceReply = replies[storagePlacePath]|reply_str_value %}
      						{% set storagePermissionsFundsPath = [physicalSamplesWherePath, itemUuid, uuids.doYouHaveTheRequiredPermissionsAndFundsToAccessThePlaceOfStorageQUuid]|reply_path %}
      						{% set storagePermissionsFundsReply = replies[storagePermissionsFundsPath] %}

						{% if storagePlaceReply %}
        						{{km.entities.answers[storagePlaceReply].label}}
      						{% endif %}

      						{% if storagePermissionsFundsReply == uuids.no_40AUuid %}
        						<p>We don't currently have the permissions and funds to access the place of storage for the project samples</p>
						{% elif storagePermissionsFundsReply == uuids.yes_41Uuid %}	
							<p>We have the permissions and funds to access the place of storage for the project samples.</p>
			      			{% endif %}

					{% endfor %}
				{% endif %}
			{% endif %} 
		
			{# Personal data #}
			{% set consentForPersonalDataPath = [createOrCollectEnvironmentalDataPath, uuids.yes_14AUuid, uuids.willYouNeedConsentForAnyNewlyCollectedPersonalDataQUuid]|reply_path %}
			{% set consentForPersonalDataReply = replies[consentForPersonalDataPath]|reply_str_value %}
			{% set usingAnotherLegalBasePath = [consentForPersonalDataPath, uuids.noOurWorkOnPersonalDataCanBeDoneUsingAnotherLegalBaseAUuid]|reply_path %}
			{% set usingAnotherLegalBaseReply = replies[usingAnotherLegalBasePath]|reply_str_value %}
			{% set personalDataLegalBasePath = [uuids.creatingAndCollectingDataCUuid, uuids.whatLegalBaseQUuid]|reply_path %}
			{% set personalDataLegalBaseReply = replies[personalDataLegalBasePath]|reply_str_value %}	

		{# Projects that won't create or collect any data (no-data) #}
		{% elif createOrCollectEnvironmentalDataReply == uuids.no_14AUuid %}
			<p>Project is no-data and will therefore not create or collect any environmental research data.</p>
		{% endif %}

		<h3>4. Processing and analysing data</h3>
		{% set processOrAnalyseDataPath = [uuids.processingAndAnalysingDataCUuid, uuids.willYourProjectProcessOrAnalyseResearchDataQUuid]|reply_path %}
		{% set processOrAnalyseDataReply = replies[processOrAnalyseDataPath]|reply_str_value %}

		{% if processOrAnalyseDataReply == uuids.no_5_2AUuid %}
		<p>This project is not processing or analysing data.</p>
		{% elif processOrAnalyseDataReply == uuids.yes_5_2AUuid %}
			{# Data storage systems and conventions #}
			{% set dataStorageSystemsAndNamingConventionsPath = [uuids.processingAndAnalysingDataCUuid, uuids.dataStorageSystemsAndFileNamingConventionsQUuid]|reply_path %}
			
			{% set fileSystemToStoreDataPath = [dataStorageSystemsAndNamingConventionsPath, uuids.exploreHintsAndTipsForGoodPractice_2AUuid, uuids.areYouUsingAFileSystemWithFilesAndFoldersToStoreDataQUuid]|reply_path %}
			{% set fileSystemToStoreDataReply = replies[fileSystemToStoreDataPath]|reply_str_value %} 

			{% set relationalDatabaseToStoreDataPath = [dataStorageSystemsAndNamingConventionsPath, uuids.exploreHintsAndTipsForGoodPractice_2AUuid, uuids.willYouUseARelationalDatabaseSystemToStoreProjectDataQUuid]|reply_path %}
			{% set handlingChangesInDataPath = [relationalDatabaseToStoreDataPath, uuids.yes_50AUuid, uuids.howWillYouHandleChangesInTheDataQUuid ]|reply_path %}
			{% set handlingChangesInDataReply = replies[handlingChangesInDataPath]|reply_str_value %}

			{% set anotherStorageSystemPath = [dataStorageSystemsAndNamingConventionsPath, uuids.exploreHintsAndTipsForGoodPractice_2AUuid, uuids.areYouUsingAnotherStorageSystemQUuid]|reply_path %}
			{% set anotherStorageSystemReply = replies[anotherStorageSystemPath]|reply_str_value %}
			{% set storageSystemPath = [anotherStorageSystemPath, uuids.yes_51AUuid, uuids.pleaseSpecifyWhichStorageSystemYouWillUseQUuid]|reply_path %}
			{% set storageSystemReply = replies[storageSystemPath]|reply_str_value %}

			{# File systems #}
			{% if fileSystemToStoreDataReply == uuids.yes_48AUuid %}
				{% set standardNamingProcedurePath = [fileSystemToStoreDataPath, uuids.yes_48AUuid, uuids.doYouHaveAStandardProcedureInPlaceForFolderAndFileNamingQUuid]|reply_path %}
				{% set standardNamingProcedureReply = replies[standardNamingProcedurePath]|reply_str_value %} 

				{% if standardNamingProcedureReply == uuids.yes_49AUuid %}
					{% set fileNamingProcedurePath = [standardNamingProcedurePath, uuids.yes_49AUuid, uuids.describeYourFileNamingProcedureQUuid]|reply_path %}
					{% set fileNamingProcedureReply = replies[fileNamingProcedurePath]|reply_str_value %}
					<p>This project will use a file and folders system to store data and will follow a standard naming procedure: {{fileNamingProcedureReply}}<p/>
				{% endif %}
			{% endif %}

			{# Relational databases #}
			{% if handlingChangesInDataReply %}
				{% set handlingChangesInData = km.entities.answers[handlingChangesInDataReply].label %}
				<p>We will use a relational database system to store project data. {{handlingChangesInData}}</p>
			{% endif %} 

			{# Other storage systems #}
			{% set storageSystem = '' %}

			{% if storageSystemReply %}
				{% set storageSystem = storageSystemReply %}
			{% endif %}

			{{storageSystem}}

			{# Shared working space #}
			
			{% set sharedWorkingSpaceForDataPath = [uuids.processingAndAnalysingDataCUuid, uuids.willYouBeUsingASharedWorkingSpaceToWorkWithYourDataQUuid]|reply_path %}
			{% set sharedWorkingSpaceForDataReply = replies[sharedWorkingSpaceForDataPath]|reply_str_value %}

			{% if sharedWorkingSpaceForDataReply == uuids.yes_52AUuid %}
				
				{# Specialists #}
				{% set workspaceRunBySepecialistsPath = [sharedWorkingSpaceForDataPath, uuids.yes_52AUuid, uuids.willThisWorkSpaceBeRunBySpecialistsQUuid]|reply_path %}
				{% set workspaceRunBySpecialistsReply = replies[workspaceRunBySpecialistsPath]|reply_str_value %}

				{% if workspaceRunBySpecialistsReply == uuids.yes_53AUuid %}
					<p>We will use a shared workspace run by specialists to work with data in the project.</p>
				{% elif workspaceRunBySpecialistsReply == uuids.no_51AUuid %}
					<p>We will use a shared workspace to work with data. However, the workspace won't be run by specialists, thus increasing the risk that backup, restore and access management are not properly addressed.</p>
				{% endif %}

				{# Compute capacity #}
				{% set workspaceComputeCapacityPath = [sharedWorkingSpaceForDataPath, uuids.yes_52AUuid, uuids.doYouNeedTheWorkSpaceToBeCloseToTheComputeCapacityQUuid]|reply_path %}
				{% set workspaceComputeCapacityReply = replies[workspaceComputeCapacityPath]|reply_str_value %}

				{% if workspaceComputeCapacityReply == uuids.yes_54AUuid %}
					<p>We will need the workspace to be close to the computing capacity as we will be dealing with large volumes of data that will be intensely and repeatedly used by the computing workflow.</p>
				{% elif workspaceComputeCapacityReply == uuids.no_52AUuid %}
					<p>For this project we won't need to keep the storage in the same place as where the computing takes place.</p>
				{% endif %}

				{# Managing data in the workspace #} 
				{% set managingDataInWorkspacePath = [sharedWorkingSpaceForDataPath, uuids.yes_52AUuid, uuids.howWillYouManageDataInTheWorkSpaceQUuid]|reply_path %}

				{% set workingWithDataInOtherFormThanArchivedPath = [managingDataInWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_3AUuid, uuids.willYouBeWorkingWithYourDataInAnotherFormThanTheWayItWillBeArchivedQUuid]|reply_path %}
				{% set workingWithDataInOtherFormThanArchivedReply = replies[workingWithDataInOtherFormThanArchivedPath]|reply_str_value %}
				{% set firstDataComeInPath = [managingDataInWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_3AUuid, uuids.howWillYourFirstDataComeInQUuid]|reply_path %}
				{% set firstDataComeInReply = replies[firstDataComeInPath]|reply_str_value %}

				{% if workingWithDataInOtherFormThanArchivedReply == uuids.noDataFormatWillBeArchivedInTheSameWayWeWorkWithItAUuid %}
					<p>We will archive project data in the same format(s) we'll use to work on it.</p>
				{% elif workingWithDataInOtherFormThanArchivedReply == uuids.yesThereWillBeAConversionStepBeforeArchivingAUuid %}
					<p>The data will require a format conversion step before being archived in order to ensure it is readable and remains understandable in the future.</p>
				{% endif %}

				{% if workingWithDataInOtherFormThanArchivedReply %}
					{% if firstDataComeInReply == uuids.initialDataWillNeedToBeMadeAvailableThroughALocalNetworkCopyAUuid %}	
						{% set firstDataComeIn = 'it will need to be made available through a network copy.' %}
					{% elif firstDataComeInReply == uuids.weWillNeedAHighSpeedNetworkConnectionToCopyTheInitialDataAUuid %}
						{% set firstDataComeIn = 'we will need a high speed network connection to make an initial copy.' %}
					{% elif firstDataComeInReply == uuids.initialDataWillArriveOnSeparateMediaAndWillNeedToBeCopiedToTheWorkSpaceAUuid %}
						{% set firstDataComeIn = 'we will need to copy it to the workspace as it will arrive on separate media.' %}
					{% elif firstDataComeInReply == uuids.noSpecialPlanningIsNeededForTheInitialDataAUuid %}
						{% set firstDataComeIn = 'no special planning is needed.' %}	
					{% endif %}

				<p>When data first comes in {{firstDataComeIn}} </p>
				{% endif %}

				{# Availability and reliability of workspace #}

				{% set availableAndReliableWorkspacePath = [sharedWorkingSpaceForDataPath, uuids.yes_52AUuid, uuids.howAvailableAndReliableWillYourWorkSpaceBeQUuid]|reply_path %}
				{% set availableAndReliableWorkspaceReply = replies[availableAndReliableWorkspacePath]|reply_str_value %}
			
				{% set preventTotalDataLossPath = [availableAndReliableWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_4AUuid, uuids.howDoYouPreventATotalLossOfDataInTheWorkSpaceQUuid]|reply_path %}
				{% set preventTotalDataLossReply = replies[preventTotalDataLossPath]|reply_str_value %}
				{% set offlineWorkspacePath = [availableAndReliableWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_4AUuid, uuids.canYouManageIfTheWorkSpaceIsOffLineForAWhileQUuid]|reply_path %}
				{% set offlineWorkspaceReply = replies[offlineWorkspacePath]|reply_str_value %}
				{% set restoreIfStorageFailsPath = [availableAndReliableWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_4AUuid, uuids.howLongCanYouWaitForARestoreIfTheStorageFailsQUuid]|reply_path %}
				{% set restoreIfStorageFailsReply = replies[restoreIfStorageFailsPath]|reply_str_value %}
				{% set backupCopiesNotInWorkspacePath = [availableAndReliableWorkspacePath, uuids.exploreHintsAndTipsForGoodPractice_4AUuid, uuids.willYouMakeBackUpCopiesOfProjectDataThatIsNotInTheWorkSpaceQUuid]|reply_path %}
				{% set backupCopiesNotInWorkspaceReply = replies[backupCopiesNotInWorkspacePath]|reply_str_value %}


				{% if availableAndReliableWorkspaceReply %}

					{% if preventTotalDataLossReply == uuids.theWorkSpaceProvidesSufficientGuaranteesAUuid %}
						<p>The project workspace provides sufficient guarantees to prevent the total loss of data in the event of an incident.</p>
					{% elif preventTotalDataLossReply == uuids.allEssentialDataIsAlsoStoredElsewhereAUuid %}
						{% set softwareInWorkspacePath = [preventTotalLossPath, uuids.allEssentialDataIsAlsoStoredElsewhereAUuid, uuids.isThereSoftwareInTheWorkSpaceCanItAlsoBeRestoredQuicklyQUuid]|reply_path %}
						{% set softwareInWorkspaceReply = replies[softwareInWorkspacePath]|reply_str_value %}

						{% if softwareInWorkspaceReply == uuids.thereIsNoSoftwareAUuid %}
							{% set softwareInWorkspace = '' %}
						{% elif softwareInWorkspaceReply == uuids.softwareInTheWorkSpaceIsOnlyACopyAUuid %}
							{% set softwareInWorkspace = 'Any software stored in the workspace is only a copy so there wont be an urgent need for quick restoration.' %}
						{% elif softwareInWorkspaceReply == uuids.specialCareWillBeTakenForTheSoftwareAndConfigurationsAUuid %}
							{% set softwareInWorkspace = 'Special care will be taken to ensure any software stored in the workspace and its configurations can be restored quickly.' %}
						{% endif %}

						<p>To prevent the total loss of data in the workspace in the event of an incident, we have ensured all data is stored elsewhere. {{softwareInWorkspace}}</p>
					{% endif %}

					{% if offlineWorkspaceReply == uuids.weCouldHandleAFewDaysOfOfflineTimePerYearAUuid %}
						{% set offlineWorkspace = 'We will be able to manage if the workspace needs to be offline for a couple of days per year due to any issues.' %}
					{% elif offlineWorkspaceReply == uuids.weCanOnlyMissTheWorkSpaceForAFewHoursDuringWorkHoursAUuid %}
						{% set offlineWorkspace = 'We can only miss the workspace for a few hours during work hours. This means our project will be impacted if the workspace needs to be offline due to any issues.' %}
					{% elif offlineWorkspaceReply == uuids.weCanWaitForProblemsDuringWorkingHoursToBeRepairedDuringEveningsAndWeekendsAUuid %}
						{% set offlineWorkspace = 'If the workspace is offline during working hours due to any issues, we will be able to wait for it to be repaired during evening and weekends.' %}
					{% endif %}

					{% if restoreIfStorageFailsReply == uuids.weCanWaitForRepairAndARestoreAUuid %}
						{% set restoreIfStorageFails = 'we will be able to wait for it to be repaired and restored.' %}
					{% elif restoreIfStorageFailsReply == uuids.aSpareCopyNeedsToBeDeployedQuicklyAUuid %}
						{% set restoreIfStorageFails = 'a spare copy will need to be deployed quickly.' %}
					{% elif restoreIfStorageFailsReply == uuids.noWaitingIsPossibleACopyMustBeReadyToTakeOverAUuid %}
						{% set restoreIfStorageFails = 'a copy must be ready to take over.' %}
					{% endif %}

					{% if backupCopiesNotInWorkspaceReply == uuids.thereAreNoDataElsewhereAUuid %}
						{% set backupCopiesNotInWorkspace = 'Data are only in stored in the workspace and we dont have back-up copies elsewhere. This means we are not adequately mitigating the impacts caused by possible failures or data loss events in the workspace.' %}
					{% elif backupCopiesNotInWorkspaceReply == uuids.allDataElsewhereAreAdequatelyBackedUpAUuid %}
						{% set backupCopiesNotInWorkspace = 'To mitigate the impacts of possible failures or data loss events in the workspace, we will make sure all data are adequately backed-up elsewhere.' %}
					{% elif backupCopiesNotInWorkspaceReply == uuids.thisIsForEachIndividualProjectMemberToDecideAUuid %}
						{% set backupCopiesNotInWorkspace = 'Individual project members will decide whether they want to make back-up copies of project data that are not in the workspace. This means we are not adequately mitigating the impacts caused by possible failures or data loss events in the workspace.' %}
					{% elif backupCopiesNotInWorkspaceReply == uuids.weMakeAutomatedBackupsOfAllDataStoredOutsideOfTheWorkSpaceAUuid %}
						{% set backupCopiesNotInWorkspace = 'To mitigate the impacts of possible failures or data loss events, we will make automated back-ups of all data stored outside of the workspace.' %}
					{% endif %}

					<p>{{offlineWorkspace}} If workspace storage fails {{restoreIfStorageFails}} {{backupCopiesNotInWorkspace}}</p>
				
				{% endif %}


				{# Managing access to workspace #} 
				{% set manageWorkspaceAccessPath = [sharedWorkingSpaceForDataPath, uuids.yes_52AUuid, uuids.howWillYouManageAccessToTheWorkSpaceQUuid]|reply_path %}
				{% set manageWorkspaceAccessReply = replies[manageWorkspaceAccessPath]|reply_str_value %}

				{% set accessControlPath = [manageWorkspaceAccessPath, uuids.exploreHintsAndTipsForBestPracticeAUuid, uuids.howWillAccessControlBeArrangedQUuid]|reply_path %}
				{% set accessControlReply = replies[accessControlPath]|reply_str_value %}
				{% set dataCopiedByRemoteUsersPath = [manageWorkspaceAccessPath, uuids.exploreHintsAndTipsForBestPracticeAUuid, uuids.willDataBeCopiedInAndOutOfTheWorkspaceStorageByRemoteUsersQUuid]|reply_path %}
				{% set dataCopiedByRemoreUsersReply = replies[dataCopiedByRemoteUsersPath]|reply_str_value %}

				{% if accessControlReply == uuids.noSpecialProvisionsAreNeededAUuid %}
					{% set accessControl = 'No special access provisions will be required for the project workspace' %}
				{% elif accessControlReply == uuids.projectManagementWillNeedToBeAbleToGivePeopleAccessAUuid %}
					{% set workspaceAccessControlPath = [accessControlPath, uuids.projectManagementWillNeedToBeAbleToGivePeopleAccessAUuid, uuids.howWillAccessToTheWorkspaceBeControlledQUuid]|reply_path %}
					{% set workspaceAccessControlReply = replies[workspaceAccessControlPath]|reply_str_value %}

					{% if workspaceAccessControlReply == uuids.onlyProjectMembersHaveReadWriteAccessToTheDataAUuid %}
						{% set workspaceAccessControl = 'Read/write access to the project workspace will be restricted to project members only.' %}
					{% elif workspaceAccessControlReply == uuids.anyoneInUkcehHasReadAccessToTheDataAllProjectMembersHaveReadWriteAccessAUuid %}
						{% set workspaceAccessControl = 'Read/write access to the project workspace will be restricted to project members, but anyone at UKCEH will have read access.' %}
					{% elif workspaceAccessControlReply == uuids.onlyProjectMembersWillHaveReadAccessOnlySelectedProjectMembersWillBeAbleToWriteDataAUuid %}
						{% set workspaceAccessControl = 'Read access to the project workspace will be restricted to project members only, and only select project members will have write access.' %}
					{% elif workspaceAccessControlReply == uuids.anyoneInUkcehCanReadDataOnlyProjectMembersCanRequestWriteAccessAUuid %}
						{% set workspaceAccessControl = 'Anyone at UKCEH will have read access to the project workspace and project members will be able to request write access.' %}
					{% endif %}

					{% set accessControl = 'Access to the workspace will need to be granted by a member of the project management team.' %}
				{% elif accessControlReply == uuids.theWorkSpaceShouldBeConnectedToASingleSignOnSystemAUuid %}
					{% set accessControl = 'The project workspace will be connected to a single sign-on system to control who has access to it.' %}
				{% endif %}

				{% if dataCopiedByRemoteUsersReply == uuids.noThisShouldNotBeAllowedAUuid %}
					{% set dataCopiedByRemoteUsers = 'Users accessing the workspace remotely will not be allowed to copy data in and out of it.' %}
				{% elif dataCopiedByRemoreUsersReply == uuids.noAllDataProcessingWillBeDoneInTheSameEnvironmentVirtualResearchEnvironment_2AUuid %}
					{% set dataCopiedByRemoteUsers = 'Users accessing the workspace remotely will not be allowed to copy data in and out of it - all data processing will be done in the same virtual environment.' %}
				{% elif dataCopiedByRemoreUsersReply == uuids.yesOccasionallyAUuid %}
					{% set dataCopiedByRemoteUsers = 'Users accessing the workspace remotely will occassionally be allowed to copy data in and out of it.' %}
				{% elif dataCopiedByRemoreUsersReply == uuids.yesForActualComputationsRequiringHighPerformance_2AUuid %}
					{% set dataCopiedByRemoteUsers = 'Users accessing the workspace remotely will be allowed to copy data in and out for computations requiring high performance.' %}
				{% endif %}

				{{workspaceAccessControl}} {{accessControl}} {{dataCopiedByRemoteUsers}}

					
			{% elif sharedWorkingSpaceForDataReply == uuids.no_55AUuid %}
				{% set dataStoredByMembersPath = [sharedWorkingSpaceForDataPath, uuids.no_55AUuid, uuids.areDataThatProjectMembersStoreThemselvesAdequatelyBackedUpAndTraceableQUuid]|reply_path %}
				{% set dataStoredByMembersReply = replies[dataStoredByMembersPath]|reply_str_value %}

				{% if dataStoredByMembersReply == uuids.yesProtectedAgainstBothEquipmentFailureAndHumanErrorAUuid %}
					<p>We will not be using a shared workspace for this project but have made sure that the data stored by project members is adequately backed up and traceable.</p>
				{% elif dataStoredByMembersReply == uuids.no_56AUuid %} 
					<p>We will not be using a shared workspace for this project and haven't implemented measures to make sure that data stored by project members is protected against equipment failure and human error.</p>
				{% endif %}

			{% endif %}

			{# Transformation/analysis/modelling tools #}
			{% set transformationAnalysisModellingToolPath = [uuids.processingAndAnalysingDataCUuid, uuids.willYouBeUsingATransformationAnalysisModellingToolSuchAsRPythonOrFmeToProcessAndAnalyseModelYourDataQUuid]|reply_path %}
			{% set transformationAnalysisModellingToolReply = replies[transformationAnalysisModellingToolPath]|reply_str_value %}

			{% if transformationAnalysisModellingToolReply == uuids.noIPreferToUseASpreadsheetOrOtherPointAndClickToolAUuid %}
				<p>We will use spreadsheets or other point-and-click tools to process and analyse/model our data.</p>
			{% elif transformationAnalysisModellingToolReply == uuids.yesExploreFurtherAUuid %}
				{# Tools #}
				{% set toolsPath = [transformationAnalysisModellingToolPath, uuids.yesExploreFurtherAUuid, uuids.whatToolSWillYouBeUsingQUuid]|reply_path %}
				{% set toolsReply = replies[toolsPath]|reply_items %}

				{% if toolsReply %}
					<p>We will use the following transformation/analysis/modelling tool(s) to process and analyse/model our data:</p>
					{% for itemUuid in toolsReply %}
							<li>{{ km.entities.choices[itemUuid].label }}</li>
					{% endfor %}	
				{% else %}
					<p>We will use transformation/analysis/modelling tool(s) but havent decided which yet</p>
				{% endif %}

				{# Experience with software #}
				{% set experienceWithSoftwarePath = [transformationAnalysisModellingToolPath, uuids.yesExploreFurtherAUuid, uuids.whatIsYourExperienceWithThisSoftwareQUuid]|reply_path %}
				{% set experienceWithSoftwareReply = replies[experienceWithSoftwarePath]|reply_str_value %}

				{% if experienceWithSoftwareReply == uuids.weHaveAllTheExpertiseRequiredToUseTheSoftwareAUuid %}
					{% set experienceWithSoftware = 'We have all the expertise required to use the software.' %}
				{% elif experienceWithSoftwareReply == uuids.weDontHaveAllTheSpecialistExpertiseRequiredButHaveAvailableHelpAndTrainingOpportunitiesResourcesAUuid %}
					{% set experienceWithSoftware = 'We dont currently have all the expertise required to use the software but have available help and training opportunities resources.' %}
				{% elif experienceWithSoftwareReply == uuids.weWillNeedExternalAdditionalExpertiseOrTrainingAUuid %}
					{% set experienceWithSoftware = 'We will need external additional expertise or training to use the software.' %}
				{% endif %}
				
				{{experienceWithSoftware}}

				{# High performance computing #}
				{% set highPerformanceComputingPath = [transformationAnalysisModellingToolPath, uuids.yesExploreFurtherAUuid, uuids.doYouRequireHighPerformanceComputingParallelProcessingToExecuteYourScriptsWorkflowsModelsQUuid]|reply_path %}
				{% set computingEnvironmentPath = [highPerformanceComputingPath, uuids.yesExploreFurther_2AUuid, uuids.whichHighPerformanceComputingEnvironmentSAreYouPlanningToUseQUuid]|reply_path %}
				{% set computingEnvironmentReply = replies[computingEnvironmentPath]|reply_str_value %}

				<p>We will use {{computingEnvironmentReply}} to execute scripts/workflows/models that require high performance computing.</p>

				{# Version control #}
				{% set versionControlSystemPath = [transformationAnalysisModellingToolPath, uuids.yesExploreFurtherAUuid, uuids.willYouUseAVersionControlSystemSuchAsGitGitHubForAnyToolsModelsCodeDevelopedByTheProjectQUuid]|reply_path %}
				{% set versionControlSystemReply = replies[versionControlSystemPath]|reply_str_value %}

				{% if versionControlSystemReply == uuids.no_66AUuid %}
					{% set versionControlSystem = 'We wont use a version control system to keep track of changes in any tools/models/code developed by the project.' %}
				{% elif versionControlSystemReply == uuids.yesGitHubAUuid %}
					{% set versionControlSystem = 'We will use GitHub as a version control system to keep track of changes in any tools/models/code.' %}
				{% elif versionControlSystemReply == uuids.yesOtherAUuid %}
					{% if versionControlOtherReply %}
						{% set versionControlOtherPath = [versionControlSystemPath, uuids.pleaseStateVersionControlSystemUsedQUuid]|reply_path %}
						{% set versionControlOtherReply = replies[versionControlOtherPath]|reply_str_value %}
						{% set versionControlSystem = 'We will use {{versionControlOtherReply}} as a version control system to keep track of changes in any tools/models/code.' %}
					{% endif %}
				{% endif %}
				{{versionControlSystem}}

			{% endif %}

			{# Risk of information loss etc. #}
			{% set riskOfInfoLossPath = [uuids.processingAndAnalysingDataCUuid, uuids.isTheRiskOfInformationLossLeaksAndVandalismAcceptablyLowQUuid]|reply_path %}

			{% set genericAndSpecificRisksPath = [riskOfInfoLossPath, uuids.exploreHintsAndTipsForGoodPractice_5AUuid, uuids.areAllProjectMembersAwareOfTheRisksGenericAndSpecificToTheProjectQUuid]|reply_path %}
			{% set genericAndSpecificRisksReply = replies[genericAndSpecificRisksPath]|reply_str_value %}

			{% if genericAndSpecificRisksReply == uuids.yes_77AUuid %}
				{% set genericAndSpecificRisks = 'All project members are aware of the risks related to information loss and vandalism, and we have ensured they know about the protocols in place to minimise and migitate these risks.' %}
			{% elif genericAndSpecificRisksReply == uuids.no_80AUuid %}
				{% set genericAndSpecificRisks = 'Not all project members are aware of the risks related to information loss and vandalism. This is an inherent risk to the project and we must work to ensure everyone knows about the protocols to minimise and mitigate these risks.' %}
			{% endif %}

			{{genericAndSpecificRisks}}


			{% set dataStoredExternallyPath = [riskOfInfoLossPath, uuids.exploreHintsAndTipsForGoodPractice_5AUuid, uuids.doProjectMembersStoreDataOrSoftwareOnComputersInTheLabFieldOrExternalHardDrivesConnectedToThoseComputersQUuid]|reply_path %}
			{% set dataStoredExternallyReply = replies[dataStoredExternallyPath]|reply_str_value %}

			{% if dataStoredExternallyReply == uuids.yes_72AUuid %}
				{% set dataStoredExternally = 'Project members will store data or software externally (e.g. computers in the lab/field, external hard drives), which means we will need to make sure data is adequately backed-up and who has access to facilities were data are stored.' %}
			{% endif %}

			{{dataStoredExternally}}

			{% set carryDataWithThemPath = [riskOfInfoLossPath, uuids.exploreHintsAndTipsForGoodPractice_5AUuid, uuids.doProjectMembersCarryDataWithThemQUuid]|reply_path %}
			{% set carryDataWithThemReply = replies[carryDataWithThemPath]|reply_str_value %}

			{% if carryDataWithThemReply == uuids.yes_73AUuid %}
				{% set passwordProtectedDevicesPath = [carryDataWithThemPath, uuids.yes_73AUuid, uuids.areAccountsOnLaptopsDevicesPasswordProtectedQUuid]|reply_path %}
				{% set passwordProtectedDevicesReply = replies[passwordProtectedDevicesPath]|reply_str_value %}

				{% if passwordProtectedDevicesReply == uuids.yes_75AUuid %}
					{% set passwordProtectedDevices = 'In order to safeguard any data stored on these devices we will make sure accounts are password protected.' %}
				{% elif passwordProtectedDevicesReply == uuids.no_77AUuid %}
					{% set passwordProtectedDevices = 'The risk of losing data stored on these devices will not be adequately mitigated as our accounts wont be password protected.' %}
				{% endif %}

				{% set carryDataWithThem = 'Project members will carry data with them on some form of external media (e.g. USB, laptop). ' %}
			{% endif %}

			{{carryDataWithThem}}{{passwordProtectedDevices}}


			{# Personal data protection #}
			{% set personalDataProtectionPath = [riskOfInfoLossPath, uuids.exploreHintsAndTipsForGoodPractice_5AUuid, uuids.arePersonalDataSufficientlyProtectedQUuid]|reply_path %}
			{% set personalDataProtectionReply = replies[personalDataProtectionPath]|reply_str_value %}

			{% if personalDataProtectionReply == uuids.weAreNotUsingAnyPersonalInformationAUuid %}
				{% set personalDataProtection = 'We will not be using any personal data information.' %}
			{% elif personalDataProtectionReply == uuids.yesAllPersonalInformationWillBeProcessedInPseudonymisedFormOnlyAUuid %}
				{% set pseudonymisationPath = [personalDataProtectionPath, uuids.yesAllPersonalInformationWillBeProcessedInPseudonymisedFormOnlyAUuid, uuids.howIsPseudonymisationHandledQUuid]|reply_path %}
				{% set pseudonymisationReply = replies[pseudonymisationPath]|reply_str_value %}

				{% if pseudonymisationReply %}
					{% set personalDataProtection = 'All personal information used by this project will be processed in pseudonymised form only, and psuedonymisation ' %}

					{% if pseudonymisationReply == uuids.wePseudonymiseInsideTheProjectOnlyLimitedPeopleCanAccessTheKeysAUuid %}
						{% set pseudonymisation = 'will only be done inside the project, with only a limited number of people having access to security keys.' %}
						{{personalDataProtection}}{{pseudonymisation}}
					{% elif pseudonymisationReply == uuids.pseudonymisationIsHandledByAnIndependentPartyInOrderToAllowDataCouplingAUuid %}
						{% set pseudonymisation = 'will be handled by an independent party in order to allow data coupling.' %}
						{{personalDataProtection}}{{pseudonymisation}}
					{% elif pseudonymisationReply == uuids.weHaveAnotherWayOfPseudonymisationAUuid %}
						{% set pseudonymisation = 'will be done by ' %}

						{% set pseudonymisationOtherPath = [pseudonymisationPath, uuids.weHaveAnotherWayOfPseudonymisationAUuid, uuids.whatWayAreYouPseudonymisingDataQUuid]|reply_path %}
						{% set pseudonymisationOtherReply = replies[pseudonymisationOtherPath]|reply_str_value %}

						{{personalDataProtection}} {{pseudonymisation}} {{pseudonymisationOtherReply}}
					{% endif %}
				{% else %}
					{% set personalDataProtection = 'All personal information used by this project will be processed in pseudonymised form only. We have not yet decided how this process will work.' %}
					{{personalDataProtection}}
				{% endif %}
			{% elif personalDataProtectionReply == uuids.yesAllDataWillBeCollectedAnonymouslyAUuid %}
				{% set personalDataProtection = 'All personal data will be collected anonymously.' %}
				{{personalDataProtection}}
			{% elif personalDataProtectionReply == uuids.yesAllDataWillBeAnonymisedAsEarlyAsPossibleAUuid %}
				{% set personalDataProtection = 'All personal information used in this project will be anonymised as early as possible.' %}
				{{personalDataProtection}}
			{% endif %}
		{% endif %}
</div>

{# ---- Section ---- #}

<div class="question">
	<h3>5. Preserving and sharing data </h3>

	<h4>5.1 Datasets this project plans to create</h4>
	{% set datasetsPath = [uuids.preservingAndSharingDataCUuid, uuids.datasetsQUuid]|reply_path %}
	{% set datasetListPath = [datasetsPath, uuids.specifyAListOfDatasetsYouWillBeProducingAUuid, uuids.listOfDatasetsQLUuid]|reply_path %}	
	{% set datasetListReply = replies[datasetListPath]|reply_items %}
	
	{% if datasetListReply|length > 0 %}
		<ul>
		{% for itemUuid in datasetListReply %}

			{% set datasetTitlePath = [datasetListPath, itemUuid, uuids.datasetNameQUuid]|reply_path %}
			{% set datasetTitleReply = replies[datasetTitlePath]|reply_str_value %}
			<p><strong>Dataset working title - </strong>{{datasetTitleReply}}</p>

			{% set datasetDescriptionPath = [datasetListPath, itemUuid, uuids.datasetDescriptionQUuid]|reply_path %}
			{% set datasetDescriptionReply = replies[datasetDescriptionPath]|reply_str_value %}
			<p><strong>Brief description, including format </strong>{{datasetDescriptionReply}}</p>

			{% set datasetExistingDataPath = [datasetListPath, itemUuid, uuids.areDataDerivedFromExistingDataQUuid]|reply_path %}
			{% set datasetExistingDataReply = replies[datasetExistingDataPath]|reply_str_value %}
			{% if datasetExistingDataReply %}
				<p><strong>Are data derived from existing data? </strong>{{ km.entities.answers[datasetExistingDataReply].label }}</p>
			{% endif %}

			{% set datasetSizePath = [datasetListPath, itemUuid, uuids.whatIsTheApproximateSizeOfTheDatasetQUuid]|reply_path %}
			{% set datasetSizeReply = replies[datasetSizePath]|reply_str_value %}
			<p><strong>Size/Quantity</strong>
			{% if datasetSizeReply %}{{ km.entities.answers[datasetSizeReply].label }}{% else %}<em>unknown</em>{% endif %}</p>

			{% set datasetOwnerPath = [datasetListPath, itemUuid, uuids.whichOrganisationSHoldTheIntellectualPropertyRightsIprToThisDatasetQUuid]|reply_path %}
			{% set datasetOwnerReply = replies[datasetOwnerPath]|reply_str_value %}
			<p><strong>Data Owner/IPR</strong> {{datasetOwnerReply}}</p>

			{% set datasetDateGeneratedPath = [datasetListPath, itemUuid, uuids.whatIsTheEstimatedDateForWhenTheDatasetWillBeGeneratedQUuid]|reply_path %}
			{% set datasetDateGeneratedReply = replies[datasetDateGeneratedPath]|reply_str_value %}
			<p><strong>Estimated date data generated</strong>{{datasetDateGeneratedReply}} </p>

			{# Long-term preservation plans (including deposit and access embargo date) #}
			{% set datasetLongTermPlanPath = [datasetListPath, itemUuid, uuids.areThereLongTermPreservationPlansInPlaceForThisDatasetQUuid]|reply_path %}
			{% set datasetLongTermPlanReply = replies[datasetLongTermPlanPath]|reply_str_value %}

			{% set longTermText = 'Long-Term Plan (e.g. archive with the EIDC) ' %}
			{% set depositDateText = 'Deposit date (must be before grant end) ' %}

			{% if datasetLongTermPlanReply == uuids.yesItWillBeSentToARepositoryAUuid %}

				{% set repositoryPath = [datasetLongTermPlanPath, uuids.yesItWillBeSentToARepositoryAUuid, uuids.whatRepositoryWillThisDataBeStoredInQUuid]|reply_path %}
				{% set repositoryReply = replies[repositoryPath]|reply_str_value %}

				{# Deposit date #}
				{% set depositDatePath = [datasetLongTermPlanPath, uuids.yesItWillBeSentToARepositoryAUuid, uuids.whatIsThePlannedDepositDateQUuid]|reply_path %}
				{% set depositDateReply = replies[depositDatePath]|reply_str_value %}
				<strong>{{depositDateText}}</strong> {{depositDateReply}}
				<br><br>

				{# Embargo #}
				{% set depositEmbargoPath = [datasetLongTermPlanPath, uuids.yesItWillBeSentToARepositoryAUuid, uuids.willThereBeAnAccessEmbargoPeriodQUuid]|reply_path %}
				{% set depositEmbargoReply = replies[depositEmbargoPath]|reply_str_value %}
				{% if depositEmbargoReply == uuids.yes_1AUuid %}
					{% set depositEmbargoDatePath = [depositEmbargoPath, uuids.yes_1AUuid, uuids.plannedAccessEmbargoReleaseDateQUuid]|reply_path %}
					{% set depositEmbargoDateReply = replies[depositEmbargoDatePath]|reply_str_value %}
					{% set embargoText = "There will be an access embargo period, ending on " + depositEmbargoDateReply %}
				{% elif depositEmbargoReply == uuids.no_1AUuid %}
					{% set embargoText = "There will be no access embargo period, data will be released immediately after deposit." %}
				{% endif %}	
					<strong>Planned access embargo </strong> {{embargoText}}
				<br><br>				

				{% if repositoryReply %}
					{# Long term plan + repository answer#}
					{#A domain specific repository answer was replaced with "Another repository"#}
					{% if repositoryReply == uuids.aDomainSpecificRepositoryAUuid %}
						{% set repositorySearchPath = [repositoryPath, uuids.aDomainSpecificRepositoryAUuid, uuids.searchAndSelectARepositoryQUuid]|reply_path %}
						{% set repositorySearchReply = replies[repositorySearchPath] %}

						{% set datasetLongTermPlan = 'Will be archived with ' %}
							<strong>{{longTermText}}</strong> {{datasetLongTermPlan}} {{repositorySearchReply}}

					{# Special purpose repository #}	
					{% elif repositoryReply == uuids.aSpecialPurposeRepositoryCreatedForTheProjectAUuid %}
						{% set datasetLongTermPlan = 'Will be archived in a special purpose repository created for the project' %}
						{% set specialRepositoryNamePath = [repositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProjectAUuid, uuids.giveTheNameOfTheRepositoryWhenItIsKnownQUuid]|reply_path %}
						{% set specialRepositoryNameReply = replies[specialRepositoryNamePath]|reply_str_value%}
						{% set specialRepositoryUrlPath = [repositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProjectAUuid, uuids.giveTheUrlToTheRepositoryWhenItIsKnownQUuid]|reply_path %}
						{% set specialRepositoryUrlReply = replies[specialRepositoryUrlPath]|reply_str_value%}

						<strong>{{longTermText}}</strong> {{datasetLongTermPlan}}. The repository is {{specialRepositoryNameReply}} and can be found at {{specialRepositoryUrlReply}}.
					
					{# One of the NERC data centre options #}	
					{% else %}
						{% set datasetLongTermPlan = 'Will be archived with the ' %}
							<strong>{{longTermText}}</strong> {{datasetLongTermPlan}} {{km.entities.answers[repositoryReply].label}}
					{% endif %} 
				{% endif %}

			{# Plan for local store + location #}	
			{% elif datasetLongTermPlanReply == uuids.yesItWillBeKeptLocallyAUuid %}
				{% set datasetLongTermPlan = 'Will be kept locally' %}
				{% set depositDate = 'NA' %}
				{% set localLocationPath = [datasetLongTermPlanPath, uuids.yesItWillBeKeptLocallyAUuid, uuids.pleaseProvideTheLocalLocationForThisDatasetQUuid]|reply_path %}
				{% set localLocationReply = replies[localLocationPath]|reply_str_value %}
				{% set localStorageWhyPath = [datasetLongTermPlanPath, uuids.yesItWillBeKeptLocallyAUuid, uuids.why_1QUuid]|reply_path %}
				{% set localStorageWhyReply = replies[localStorageWhyPath]|reply_str_value %}

				<p><strong> {{depositDateText}} </strong> {{depositDate}}</p>
				<p><strong>{{longTermText}}</strong> {{datasetLongTermPlan}}</p>
				<p><strong>Local storage location: </strong> {{localLocationReply}}</p>
				{% if localStorageWhyReply%}
					<p><strong>Reason to store locally </strong> {{km.entities.answers[localStorageWhyReply].label}}</p>
				{% endif %}

			{# Not kept in perpetuity and reasons #}	
			{% elif datasetLongTermPlanReply == uuids.noItWillNotBeKeptItInPerpetuityAUuid %}
				{% set datasetLongTermPlan = 'Will not be kept in perpetuity' %}
				{% set depositDate = 'NA' %}
				{% set embargoText = 'NA' %}	
				{% set notKeptWhyPath = [datasetLongTermPlanPath, uuids.noItWillNotBeKeptItInPerpetuityAUuid, uuids.why_4QUuid]|reply_path %}
				{% set notKeptWhyReply = replies[notKeptWhyPath]|reply_str_value %}

				<p><strong> {{depositDateText}} </strong> {{depositDate}}</p>
				<p><strong>Planned access embargo </strong> {{embargoText}}</p>
				<p><strong>{{longTermText}}</strong> {{datasetLongTermPlan}}</p>
				{% if notKeptWhyReply%}
					<p><strong>Reason not kept </strong> {{km.entities.answers[notKeptWhyReply].label}}
				{% endif %}	
			{% endif %}

		<hr/>
		{% endfor %}
		</ul>
	{% endif %}

	<h4>5.2 Models this project plans to create</h4>
	{% set modelsPath = [uuids.preservingAndSharingDataCUuid, uuids.modelsQUuid]|reply_path %}
	{% set modelsReply = replies[modelsPath]|reply_str_value%}
	{% if modelsReply == uuids.iWillNotBeProducingModelsAsPartOfThisProjectAUuid %}
		<p>No models will be created by this project.</p>
	{% elif modelsReply == uuids.specifyAListOfModelsYouWillBeProducingAUuid %}	
		<p>The following models will be created by this project:</p>
		{% set modelsListPath = [modelsPath, uuids.specifyAListOfModelsYouWillBeProducingAUuid, uuids.modelListQLUuid]|reply_path %}	
		{% set modelsListReply = replies[modelsListPath]|reply_items %}
		
		{% if modelsListReply|length > 0 %}
			<ul>
			{% for itemUuid in modelsListReply %}
				{# Model name #}
				{% set modelsTitlePath = [modelsListPath, itemUuid, uuids.modelNameQUuid]|reply_path %}
				{% set modelsTitleReply = replies[modelsTitlePath]|reply_str_value %}
				<p><strong>Model title - </strong>{{modelsTitleReply}}</p>	

				{# Model description #}
				{% set modelsDescriptionPath = [modelsListPath, itemUuid, uuids.modelDescriptionQUuid]|reply_path %}
				{% set modelsDescriptionReply = replies[modelsDescriptionPath]|reply_str_value %}
				<p><strong>Brief description </strong>{{modelsDescriptionReply}}</p>

				{# Model identifier DOI #}
				{# Estimated date generated #}
				{% set modelsDateGeneratedPath = [modelsListPath, itemUuid, uuids.whatIsTheEstimatedDateForWhenTheModelWillBeCreatedQUuid]|reply_path %}
				{% set modelsDateGeneratedReply = replies[modelsDateGeneratedPath]|reply_str_value %}
				<p><strong>Estimated date model generated</strong>{{modelsDateGeneratedReply}} </p>
									
				{# Data Owner / IPR - needs km update currently empty #}
				{% set modelsOwnerPath = [modelsListPath, itemUuid, uuids.whichOrganisationSHoldTheIntellectualPropertyRightsIprToThisModelQUuid]|reply_path %}
				{% set modelsOwnerReply = replies[modelsOwnerPath]|reply_str_value %}
				<p><strong>Model Owner/IPR</strong> {{modelsOwnerReply}}</p>

				{# Approximate size  #}
				{% set modelsSizePath = [modelsListPath, itemUuid, uuids.whatIsTheApproximateSizeOfThisModelAndAssociatedMaterialQUuid]|reply_path %}
				{% set modelsSizeReply = replies[modelsSizePath]|reply_str_value %}
				<p><strong>Size/Quantity</strong>
				{% if modelsSizeReply %}
					{{ km.entities.answers[modelsSizeReply].label }}
				{% else %}
					<em>unknown</em>
				{% endif %}</p>

				{# Project staff responsible #}
				{% set modelsResponsiblePersonPath = [modelsListPath, itemUuid, uuids.whoInTheProjectIsResponsibleForThisModelQUuid]|reply_path %}
				{% set modelsResponsiblePersonReply = replies[modelsResponsiblePersonPath]|reply_str_value %}
				<p><strong>Project staff responsible</strong> {{modelsResponsiblePersonReply}}</p>			
								
				{# Versioning of model  #}
				{% set modelVersionControlPath = [modelsListPath, itemUuid, uuids.willYouDepositYourModelInGitHubOrOtherVersionedCodeRepositoryQUuid]|reply_path %}
				{% set modelVersionControlReply = replies[modelVersionControlPath]|reply_str_value %}
				{% if modelVersionControlReply == uuids.no_142AUuid %}
					{% set modelVersionControlText = "This model will not be version controlled on a code repository." %}  
				{% elif  modelVersionControlReply == uuids.yes_132AUuid %}
					{% set modelVersionControlUrlPath = [modelVersionControlPath, uuids.yes_132AUuid, uuids.pleaseProvideTheCompleteUrlToTheCodeRepositoryWhenItIsKnownQUuid]|reply_path %}
					{% set modelVersionControlUrlReply = replies[modelVersionControlUrlPath]|reply_str_value %}
					{% set modelVersionControlText = "This model will be version controlled on a code repository, and can be found here: "+ modelVersionControlUrlReply %}  
				{% endif %}
					<p><strong>Model versioning</strong> {{modelVersionControlText}}</p>

				{# Long term preservation plans #}
				{% set modelsLongTermPlanPath = [modelsListPath, itemUuid, uuids.areThereLongTermPreservationPlansInPlaceForThisModelQUuid]|reply_path %}
				{% set modelsLongTermPlanReply = replies[modelsLongTermPlanPath]|reply_str_value %}
				{% set modelsLongTermText = 'Long-Term Plan (e.g. archive with the EIDC) ' %}

				{# Sent to a repository #}
				{% if modelsLongTermPlanReply == uuids.yesItWillBeSentToARepository_2AUuid %}
					{% set modelsRepositoryPath = [modelsLongTermPlanPath, uuids.yesItWillBeSentToARepository_2AUuid, uuids.whatRepositoryWillTheModelBeStoredInQUuid]|reply_path %}
					{% set modelsRepositoryReply = replies[modelsRepositoryPath]|reply_str_value %}
				
				{% if modelsRepositoryReply %}
					{# Long term plan + repository answer#}
					{#A domain specific repository answer was replaced with "Another repository"#}
					{% if modelsRepositoryReply == uuids.aDomainSpecificRepository_2AUuid %}
						{% set modelsRepositorySearchPath = [modelsRepositoryPath, uuids.aDomainSpecificRepository_2AUuid, uuids.searchAndSelectARepository_2QUuid]|reply_path %}
						{% set modelsRepositorySearchReply = replies[modelsRepositorySearchPath] %}

						{% set modelsLongTermPlan = 'Will be archived with ' %}
							<strong>{{modelsLongTermText}}</strong> {{modelsLongTermPlan}} {{modelsRepositorySearchReply.value.value.value}}

					{# Special purpose repository #}	
					{% elif modelsRepositoryReply == uuids.aSpecialPurposeRepositoryCreatedForTheProject_2AUuid %}
						{% set modelsLongTermPlan = 'Will be archived in a special purpose repository created for the project' %}
						{% set modelsSpecialRepositoryNamePath = [modelsRepositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProject_2AUuid, uuids.giveTheNameOfTheRepositoryWhenItIsKnown_2QUuid]|reply_path %}
						{% set modelsSpecialRepositoryNameReply = replies[modelsSpecialRepositoryNamePath]|reply_str_value%}
						{% set modelsSpecialRepositoryUrlPath = [modelsRepositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProject_2AUuid, uuids.giveTheUrlToTheRepositoryWhenItIsKnown_2QUuid]|reply_path %}
						{% set modelsSpecialRepositoryUrlReply = replies[modelsSpecialRepositoryUrlPath]|reply_str_value%}

						<strong>{{modelsLongTermText}}</strong> {{modelsLongTermPlan}}. The repository is {{modelsSpecialRepositoryNameReply}} and can be found at {{modelsSpecialRepositoryUrlReply}}.
					
					{# One of the NERC data centre options #}	
					{% else %}
						{% set modelsLongTermPlan = 'Will be archived with the ' %}
							<strong>{{modelsLongTermText}}</strong> {{modelsLongTermPlan}} {{km.entities.answers[modelsRepositoryReply].label}}
					{% endif %} 
				{% endif %}

				{% elif modelsLongTermPlanReply == uuids.yesItWillBeKeptLocally_2AUuid %}
					{% set modelsLongTermPlan = 'Will be kept locally' %}
					{% set modelsLocalLocationPath = [modelsLongTermPlanReply, uuids.yesItWillBeKeptLocally_2AUuid, uuids.pleaseProvideTheLocalLocationForThisModelQUuid]|reply_path %}
					{% set modelsLocalLocationReply = replies[modelsLocalLocationPath]|reply_str_value %}
					{% set modelsLocalStorageWhyPath = [modelsLongTermPlan, uuids.yesItWillBeKeptLocally_2AUuid, uuids.why_2_1QUuid]|reply_path %}
					{% set modelsLocalStorageWhyReply = replies[modelsLocalStorageWhyPath]|reply_str_value %}

					<p><strong>{{modelsLongTermText}}</strong> {{modelsLongTermPlan}}</p>
					<p><strong>Local storage location: </strong> {{modelsLocalLocationReply}}</p>
					{% if modelsLocalStorageWhyReply%}
						<p><strong>Reason to store locally </strong> {{km.entities.answers[modelsLocalStorageWhyReply].label}}</p>
					{% endif %}				
				{% elif modelsLongTermPlanReply == uuids.noItWillNotBeKeptInPerpetuityAUuid %}
					{% set modelsNotKeptWhyPath = [modelsLongTermPlanPath, uuids.noItWillNotBeKeptInPerpetuityAUuid, uuids.why_6QUuid]|reply_path %}
					{% set modelsNotKeptWhyReply = replies[modelsNotKeptWhyPath]|reply_str_value %}

					{% if modelsNotKeptWhyReply == uuids.otherReasonS_5AUuid %}
						{% set modelsPleaseSpecifyPath = [modelsNotKeptWhyPath, uuids.otherReasonS_5AUuid, uuids.pleaseSpecify_9QUuid]|reply_path %}
						{% set modelsPleaseSpecifyReply = replies[modelsPleaseSpecifyPath]|reply_str_value %}
						{% set modelsLongTermPlan = "It will not be kept in perpetuity. " + modelsPleaseSpecifyReply %}
					{% else %}	
						{% set modelsLongTermPlan = "It will not be kept in perpetuity. " + km.entities.answers[modelsNotKeptWhyReply].label %}
					{% endif %}							
					<p><strong>{{modelsLongTermText}}</strong> {{modelsLongTermPlan}}</p>
				{% endif %}
				<hr/>
			{% endfor %}
		{% endif %}	
		</ul>
	{% endif %}	

	<h4>5.3 Software packages this project plans to create</h4>
	{% set softwarePath = [uuids.preservingAndSharingDataCUuid, uuids.softwarePackagesQUuid]|reply_path %}
	{% set softwareReply = replies[softwarePath]|reply_str_value%}
	{% if softwareReply == uuids.iWillNotBeProducingAnySoftwarePackagesAsPartOfThisProjectAUuid %}
		<p>No software packages will be created by this project.</p>
	{% elif softwareReply == uuids.specifyAListOfSoftwarePackagesYouWillBeProducingAUuid %}	
		{% set softwareListPath = [softwarePath, uuids.specifyAListOfSoftwarePackagesYouWillBeProducingAUuid, uuids.softwarePackagesListQLUuid]|reply_path %}	
		{% set softwareListReply = replies[softwareListPath]|reply_items %}
		
		{% if softwareListReply|length > 0 %}
			<ul>
			{% for itemUuid in softwareListReply %}	
				{# Software name #}
				{% set softwareTitlePath = [softwareListPath, itemUuid, uuids.softwarePackageNameQUuid]|reply_path %}
				{% set softwareTitleReply = replies[softwareTitlePath]|reply_str_value %}
				<p><strong>Software title - </strong>{{softwareTitleReply}}</p>				
				
				{# Software description #}
				{% set softwareDescriptionPath = [softwareListPath, itemUuid, uuids.softwarePackageDescriptionQUuid]|reply_path %}
				{% set softwareDescriptionReply = replies[softwareDescriptionPath]|reply_str_value %}
				<p><strong>Brief description </strong>{{softwareDescriptionReply}}</p>			
				
				{# Software identifier DOI #}

				{# Open source license #}
				{% set softwareLicensePath = [softwareListPath, itemUuid, uuids.willYouBeAddingAnOpenSourceLicenceQUuid]|reply_path %}
				{% set softwareLicenseReply = replies[softwareLicensePath]|reply_str_value %}
				{% if softwareLicenseReply == uuids.no_133AUuid %}
					{% set softwareLicenseText = "We will not be adding an Open Source License" %}
					{% set softwareLicenseWhyNotPath = [softwareLicensePath, uuids.no_133AUuid, uuids.doAnyOfTheFollowingApplyQUuid]|reply_path %}
					{% set softwareLicenseWhyNotReply = replies[softwareLicenseWhyNotPath]|reply_str_value %}
					{% set softwareLicenseInfoText = "because" + softwareLicenseWhyNotReply %}
				{% elif softwareLicenseReply == uuids.yesWeHaveDecidedOnAnOpenSourceLicenceAUuid %}
					{% set softwareLicenseText = "We will be adding an Open Source License" %}
					{% set softwareLicenseWhichPath = [softwareLicensePath, uuids.yesWeHaveDecidedOnAnOpenSourceLicenceAUuid, uuids.whatIsTheLicence_2QUuid]|reply_path %}
					{% set softwareLicenseWhichReply = replies[softwareLicenseWhichPath]|reply_str_value %}
					{% set softwareLicenseInfoText = "We will use " + softwareLicenseWhichReply %}
				{% endif %}		
				<p><strong>Licensing</strong> {{softwareLicenseText}} {{softwareLicenseInfoText}}</p>			
				
				{# Version control  #}
				{% set softwareVersionControlPath = [softwareListPath, itemUuid, uuids.willYouDepositYourSoftwarePackageInGitHubOrOtherVersionedCodeRepositoryQUuid]|reply_path %}
				{% set softwareVersionControlReply = replies[softwareVersionControlPath]|reply_str_value %}
				{% if softwareVersionControlReply == uuids.no_2_1AUuid %}
					{% set softwareVersionControlText = "We are not using version control for our code." %}
				{% elif softwareVersionControlReply == uuids.yes_2_1AUuid %}
					{% set softwareVersionControlUrlPath = [softwareVersionControlPath, uuids.yes_2_1AUuid, uuids.pleaseProvideTheCompleteUrlToTheCodeRepositoryWhenItIsKnown_2QUuid]|reply_path %}
					{% set softwareVersionControlUrlReply = replies[softwareVersionControlUrlPath]|reply_str_value %}
					{% set softwareVersionControlText = "Our code is version controlled and stored in the following location: " + softwareVersionControlUrlReply %}
				{% endif %}
				<p><strong>Version control</strong> {{softwareVersionControlText}}</p>

				{# Long term preservation plans #}
				{% set softwareLongTermPlanPath = [softwareListPath, itemUuid, uuids.areThereLongTermPreservationPlansInPlaceForThisSoftwarePackageQUuid]|reply_path %}
				{% set softwareLongTermPlanReply = replies[softwareLongTermPlanPath]|reply_str_value %}
				{% set softwareLongTermText = 'Long-Term Plan (e.g. archive with the EIDC) ' %}

				{# Sent to a repository #}
				{% if softwareLongTermPlanReply == uuids.yesItWillBeSentToARepository_3AUuid %}
					{% set softwareRepositoryPath = [softwareLongTermPlanPath, uuids.yesItWillBeSentToARepository_3AUuid, uuids.whatRepositoryWillTheSoftwarePackageBeStoredInQUuid]|reply_path %}
					{% set softwareRepositoryReply = replies[softwareRepositoryPath]|reply_str_value %}
				
				{% if softwareRepositoryReply %}
					{# Long term plan + repository answer#}
					{#A domain specific repository answer was replaced with "Another repository"#}
					{% if softwareRepositoryReply == uuids.aDomainSpecificRepository_3AUuid %}
						{% set softwareRepositorySearchPath = [softwareRepositoryPath, uuids.aDomainSpecificRepository_3AUuid, uuids.searchAndSelectARepository_3QUuid]|reply_path %}
						{% set softwareRepositorySearchReply = replies[softwareRepositorySearchPath] %}

						{% set softwareLongTermPlan = 'Will be archived with ' %}
							<strong>{{softwareLongTermText}}</strong> {{softwareLongTermPlan}} {{softwareRepositorySearchReply.value.value.value}}

					{# Special purpose repository #}	
					{% elif softwareLongTermPlanReply == uuids.aSpecialPurposeRepositoryCreatedForTheProject_3AUuid %}
						{% set softwareLongTermPlan = 'Will be archived in a special purpose repository created for the project' %}
						{% set softwareSpecialRepositoryNamePath = [softwareRepositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProject_3AUuid, uuids.giveTheNameOfTheRepositoryWhenItIsKnown_3QUuid]|reply_path %}
						{% set softwareSpecialRepositoryNameReply = replies[softwareSpecialRepositoryNamePath]|reply_str_value%}
						{% set softwareSpecialRepositoryUrlPath = [softwareRepositoryPath, uuids.aSpecialPurposeRepositoryCreatedForTheProject_3AUuid, uuids.giveTheUrlToTheRepositoryWhenItIsKnown_3QUuid]|reply_path %}
						{% set softwareSpecialRepositoryUrlReply = replies[softwareSpecialRepositoryUrlPath]|reply_str_value%}

						<strong>{{softwareLongTermText}}</strong> {{softwareLongTermPlan}}. The repository is {{softwareSpecialRepositoryNameReply}} and can be found at {{softwareSpecialRepositoryUrlReply}}.
					
					{# One of the NERC data centre options #}	
					{% else %}
						{% set softwareLongTermPlan = 'Will be archived with the ' %}
							<strong>{{softwareLongTermText}}</strong> {{softwareLongTermPlan}} {{km.entities.answers[softwareRepositoryReply].label}}
					{% endif %} 
				{% endif %}

				{% elif softwareLongTermPlanReply == uuids.yesItWillBeKeptLocally_3AUuid %}
					{% set softwareLongTermPlan = 'Will be kept locally' %}
					{% set softwareLocalLocationPath = [softwareLongTermPlanPath, uuids.yesItWillBeKeptLocally_3AUuid, uuids.pleaseProvideTheLocalLocationForThisSoftwarePackageQUuid]|reply_path %}
					{% set softwareLocalLocationReply = replies[softwareLocalLocationPath]|reply_str_value %}
					{% set softwareLocalStorageWhyPath = [softwareLongTermPlanPath, uuids.yesItWillBeKeptLocally_3AUuid, uuids.why_3_1QUuid]|reply_path %}
					{% set softwareLocalStorageWhyReply = replies[softwareLocalStorageWhyPath]|reply_str_value %}

					<p><strong>{{softwareLongTermText}}</strong> {{softwareLongTermPlan}}</p>
					<p><strong>Local storage location: </strong> {{softwareLocalLocationReply}}</p>
					{% if softwareLocalStorageWhyReply%}
						<p><strong>Reason to store locally </strong> {{km.entities.answers[softwareLocalStorageWhyReply].label}}</p>
					{% endif %}				
				{% elif softwareLongTermPlanReply == uuids.noItWillNotBeKeptInPerpetuity_2AUuid %}
					{% set softwareNotKeptWhyPath = [softwareLongTermPlanPath, uuids.noItWillNotBeKeptInPerpetuity_2AUuid, uuids.why_8QUuid]|reply_path %}
					{% set softwareNotKeptWhyReply = replies[softwareNotKeptWhyPath]|reply_str_value %}

					{% if softwareNotKeptWhyReply == uuids.otherReasonS_7AUuid %}
						{% set softwarePleaseSpecifyPath = [softwareNotKeptWhyPath, uuids.otherReasonS_7AUuid, uuids.pleaseSpecify_6_1QUuid]|reply_path %}
						{% set softwarePleaseSpecifyReply = replies[softwarePleaseSpecifyPath]|reply_str_value %}
						{% set softwareLongTermPlan = "It will not be kept in perpetuity. " + softwarePleaseSpecifyReply %}
					{% else %}	
						{% set softwareLongTermPlan = "It will not be kept in perpetuity. " + km.entities.answers[softwareNotKeptWhyReply].label %}
					{% endif %}							
					<p><strong>{{softwareLongTermText}}</strong> {{softwareLongTermPlan}}</p>
				{% endif %}
				<hr/>				
			{% endfor %}
			</ul>
		{% endif %}
	{% endif %}

	{# Section 4.4 - Physical samples #}
	<h4>5.4 Physical samples this project plans to collect</h4>
	{% set samplesPath = [uuids.preservingAndSharingDataCUuid, uuids.physicalCollectionsAndSamplesQUuid]|reply_path %}
	{% set samplesReply = replies[samplesPath]|reply_str_value%}
	{% if samplesReply == uuids.iWillNotBeProducingAnyPhysicalCollectionsOrSamplesAsPartOfThisProjectAUuid %}
		<p>No physical samples are collected by this project.</p>
	{% elif samplesReply == uuids.specifyAListOfPhysicalSamplesYouWillBeProducingAUuid %}	
		{% set samplesListPath = [samplesPath, uuids.specifyAListOfPhysicalSamplesYouWillBeProducingAUuid, uuids.listOfPhysicalCollectionsQLUuid]|reply_path %}	
		{% set samplesListReply = replies[samplesListPath]|reply_items %}
		
		{% if samplesListReply|length > 0 %}
			<ul>
			{% for itemUuid in samplesListReply %}
				{# Sample name #}
				{% set samplesTitlePath = [samplesListPath, itemUuid, uuids.physicalCollectionNameQUuid]|reply_path %}
				{% set samplesTitleReply = replies[samplesTitlePath]|reply_str_value %}
				<p><strong>Physical samples title - </strong>{{samplesTitleReply}}</p>	

				{# Sample description #}
				{% set samplesDescriptionPath = [samplesListPath, itemUuid, uuids.physicalCollectionDescriptionQUuid]|reply_path %}
				{% set samplesDescriptionReply = replies[samplesDescriptionPath]|reply_str_value %}
				<p><strong>Brief description </strong>{{samplesDescriptionReply}}</p>			
				
				{# Sample date generated #}
				{% set samplesDateGeneratedPath = [samplesListPath, itemUuid, uuids.whatIsTheEstimatedDateForWhenThePhysicalCollectionWillBeAssembledQUuid]|reply_path %}
				{% set samplesDateGeneratedReply = replies[samplesDateGeneratedPath]|reply_str_value %}
				<p><strong>Estimated date samples generated</strong>{{samplesDateGeneratedReply}} </p>
					
				{# Sample Owner/IPR #}
				{% set samplesOwnerPath = [samplesListPath, itemUuid, uuids.whichOrganisationSOwnThePhysicalCollectionQUuid]|reply_path %}
				{% set samplesOwnerReply = replies[samplesOwnerPath]|reply_str_value %}
				<p><strong>Sample Owner/IPR</strong> {{samplesOwnerReply}}</p>

				{# Sample estimated size #}
				{% set samplesSizePath = [samplesListPath, itemUuid, uuids.whatIsTheApproximateSizeOfThePhysicalCollectionQUuid]|reply_path %}
				{% set samplesSizeReply = replies[samplesSizePath]|reply_str_value %}
				{% if samplesSizeReply %}
					<p><strong>Approximate size</strong> {{km.entities.answers[samplesSizeReply].label}}</p>
				{% endif %}

				{# Sample project staff responsible #}
				{% set samplesResponsiblePersonPath = [samplesListPath, itemUuid, uuids.whoInThisProjectWillBeResponsibleForThisPhysicalCollectionQUuid]|reply_path %}
				{% set samplesResponsiblePersonReply = replies[samplesResponsiblePersonPath]|reply_str_value %}
				<p><strong>Project staff responsible</strong> {{samplesResponsiblePersonReply}}</p>			
				
				{# Estimated date samples assembled #}
				{% set samplesDatePath = [samplesListPath, itemUuid, uuids.whatIsTheEstimatedDateForWhenThePhysicalCollectionWillBeAssembledQUuid]|reply_path %}
				{% set samplesDateReply = replies[samplesDatePath]|reply_str_value %}
				<p><strong>Estimated date samples assembled</strong> {{samplesDateReply}}</p>	

				{# Sample preservation plan #}
				{% set samplesLongTermPlanPath = [samplesListPath, itemUuid, uuids.areThereLongTermPreservationPlansInPlaceForThisPhysicalCollectionQUuid]|reply_path %}
				{% set samplesLongTermPlanReply = replies[samplesLongTermPlanPath]|reply_str_value %}

				{% if samplesLongTermPlanReply == uuids.yesItWillBeStoredAtASpecialisedUkcehFacilityAUuid %}
					{% set samplesLongTermText = "It will be stored at a specialised UKCEH facility." %}
				{% elif samplesLongTermPlanReply == uuids.yesItWillBeArchivedInASpecialisedFacilityAUuid %}
					{% set nameOfFacilityPath = [samplesLongTermPlanPath, uuids.yesItWillBeArchivedInASpecialisedFacilityAUuid, uuids.nameOfFacilityQUuid]|reply_path %}
					{% set nameOfFacilityReply = replies[nameOfFacilityPath]|reply_str_value %}
					{% set lenghtSampleKeptPath = [samplesLongTermPlanPath, uuids.yesItWillBeArchivedInASpecialisedFacilityAUuid, uuids.howLongWillThisCollectionBeKeptQUuid]|reply_path %}
					{% set lenghtSampleKeptReply = replies[lenghtSampleKeptPath]|reply_str_value %}

					{% if lenghtSampleKeptReply == uuids.forAFixedPeriod_4AUuid %}
						{% set specifyLengthKeptPath = [lenghtSampleKeptPath, uuids.forAFixedPeriod_4AUuid, uuids.specifyForHowLongCollectionWillBeKeptQUuid]|reply_path %}
						{% set specifyLengthKeptReply = replies[specifyLengthKeptPath]|reply_str_value %}
						{% set samplesLongTermText = "It will be archived in the following specialised facility: " + nameOfFacilityReply + " and will be kept " + km.entities.answers[lenghtSampleKeptReply].label + " of/until " + specifyLengthKeptReply %}
					{% elif lenghtSampleKeptReply == uuids.asLongAsTechnicallyPossible_4AUuid %}
						{% set samplesLongTermText = "It will be archived in the following specialised facility: " + nameOfFacilityReply + " and will be kept " + km.entities.answers[lenghtSampleKeptReply].label %}
					{% endif %}
				{% elif samplesLongTermPlanReply == uuids.noItWillNotBeKeptItInPerpetuity_2AUuid %}	
					{% set whySamplesNotKeptPath = [samplesLongTermPlanPath, uuids.noItWillNotBeKeptItInPerpetuity_2AUuid, uuids.why_9QUuid]|reply_path %}
					{% set whySamplesNotKeptReply = replies[whySamplesNotKeptPath]|reply_str_value %}
					{% if whySamplesNotKeptReply == uuids.otherReasonS_8AUuid %}
						{% set samplesPleaseSpecifyPath = [whySamplesNotKeptPath, uuids.otherReasonS_8AUuid, uuids.pleaseSpecify_14QUuid] %}
						{% set samplesPleaseSpecifyReply = replies[samplesPleaseSpecifyPath].label %}
						{% set samplesLongTermText = "It will not be kept in perpetuity. " + samplesPleaseSpecifyReply %}
					{% else %}	
						{% set samplesLongTermText = "It will not be kept in perpetuity. " + km.entities.answers[whySamplesNotKeptReply].label %}
					{% endif%}	
				{% endif %}	
				<p><strong>Long term preservation plan</strong> {{samplesLongTermText}}</p>			

			<hr/>	
			{% endfor %}
			</ul>
		{% endif %}
	{% endif %}
</div>

{# Section #}
<div class="question">
{% if ctx.phaseUuid == "e6b3786d-9246-4179-b78e-d99c8ca9435c" %}
	<h3>6. Project closure </h3>
{% endif %}	
</div>


 {#<pre>{{ ctx|tojson(2) }}</pre>#}